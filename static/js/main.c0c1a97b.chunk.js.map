{"version":3,"sources":["lib/pickRandomMovie.js","lib/mergeDetail.js","lib/TMDB_API.js","reducers/loading.js","lib/createAsyncAction.js","lib/createRequestSaga.js","reducers/movieDetail.js","reducers/movies.js","reducers/background.js","components/common/Error/styles.js","lib/color.js","lib/defaultStyles.js","components/common/Button/styles.js","components/common/Button/index.js","components/common/Error/index.js","components/common/Loading/styles.js","components/common/Loading/index.js","components/HomePage/styles.js","components/HomePage/index.js","containers/HomePageBodyContainer.js","pages/HomePage.js","components/MovieDetailPage/Info/styles.js","lib/ISO_3166_1.js","lib/GENRES.js","lib/isEmpty.js","components/MovieDetailPage/Info/index.js","components/MovieDetailPage/Title/styles.js","components/MovieDetailPage/Title/index.js","components/common/Image/styles.js","components/common/Image/index.js","components/MovieDetailPage/Poster/styles.js","components/MovieDetailPage/Poster/index.js","components/MovieDetailPage/Buttons/styles.js","components/MovieDetailPage/Buttons/index.js","containers/MovieDetailPage/MovieDetailButtonsContainer.js","components/MovieDetailPage/styles.js","components/MovieDetailPage/Summary/styles.js","components/MovieDetailPage/NoContent.js","components/MovieDetailPage/Summary/index.js","components/MovieDetailPage/Credit/styles.js","components/MovieDetailPage/Credit/CreditSlide.js","lib/remToPixel.js","lib/getVmin.js","lib/useDebounce.js","components/MovieDetailPage/Credit/CreditSwiper.js","components/MovieDetailPage/Credit/index.js","components/MovieDetailPage/Images/styles.js","reducers/zoom.js","components/MovieDetailPage/Images/ImagesSlide.js","components/MovieDetailPage/Images/BackdropsSwiper.js","components/MovieDetailPage/Images/PostersSwiper.js","components/MovieDetailPage/Images/index.js","components/MovieDetailPage/Similars/styles.js","components/common/PosterPlaceholder/styles.js","components/common/PosterPlaceholder/index.js","components/MovieDetailPage/Similars/SimilarSlide.js","components/MovieDetailPage/Similars/SimilarsSwiper.js","components/MovieDetailPage/Similars/index.js","components/MovieDetailPage/Videos/styles.js","components/MovieDetailPage/Videos/Video.js","components/MovieDetailPage/Videos/VideoPlayer.js","components/MovieDetailPage/Videos/index.js","components/MovieDetailPage/index.js","containers/MovieDetailPage/MovieDetailPageBodyContainer.js","pages/MovieDetailPage.js","components/MoviesPage/styles.js","components/MoviesPage/MovieItem.js","components/MoviesPage/MovieGrid.js","components/MoviesPage/Pagination/styles.js","lib/checkEnoughWidth.js","components/MoviesPage/Pagination/index.js","components/MoviesPage/index.js","containers/MoviesPage/NowPlayingPageBodyContainer.js","pages/NowPlayingPage.js","containers/MoviesPage/PopularPageBodyContainer.js","pages/PopularPage.js","containers/MoviesPage/TopRatedPageBodyContainer.js","pages/TopRatedPage.js","containers/MoviesPage/UpcomingPageBodyContainer.js","pages/UpcomingPage.js","pages/AboutPage.js","components/FullscreenBackground/styles.js","components/FullscreenBackground/index.js","components/Header/styles.js","components/Header/Logo/styles.js","components/Header/Logo/index.js","lib/sitemap.js","components/Header/Nav/styles.js","components/Header/VerticalNav/SideBar/styles.js","components/Header/VerticalNav/SideBar/NavItemCaption.js","components/Header/VerticalNav/SideBar/SubnavItemCaption.js","components/Header/VerticalNav/SideBar/DropdownNavItem.js","components/Header/VerticalNav/SideBar/ButtonNavItem.js","components/Header/VerticalNav/SideBar/index.js","components/Header/VerticalNav/styles.js","reducers/search.js","components/Search/SearchButton.js","components/Header/VerticalNav/index.js","components/Header/AlternativeHorizontalNav/styles.js","components/Header/AlternativeHorizontalNav/FlexibleNavItem.js","components/Header/AlternativeHorizontalNav/ButtonNavItem.js","components/Header/AlternativeHorizontalNav/index.js","components/Header/index.js","components/common/PageMain/styles.js","components/common/PageMain/index.js","components/MoviesPage/MoviesNav/styles.js","components/MoviesPage/MoviesNav/NavItemCaption.js","components/MoviesPage/MoviesNav/NavItem.js","components/MoviesPage/MoviesNav/index.js","containers/MyMoviesPage/LikePageBodyContainer.js","pages/LikePage.js","containers/MyMoviesPage/WatchlistPageBodyContainer.js","pages/WatchlistPage.js","components/Zoom/styles.js","components/Zoom/index.js","components/Search/styles.js","components/Search/SearchBar.js","containers/SearchPageBodyContainer.js","pages/SearchPage.js","components/Search/SearchText.js","App.js","serviceWorker.js","reducers/index.js","index.js"],"names":["pickRandomMovie","movies","currentBackgroundPath","movie","moviesWithBackdrop","filter","backdrop_path","length","randomIndex","Math","floor","random","mergeDetail","detailKR","detailEN","merged","key","valueKR","valueEN","Array","isArray","Object","values","API_KEY","buildFetchMoviesUrl","type","page","getSimilar","movieId","axios","get","getDetail","all","then","data","getImages","getVideos","getCredit","buildImageUrl","path","size","startLoading","createAction","action","finishLoading","loading","handleActions","state","createAsyncAction","actionType","api","REQUEST","SUCCESS","FAILURE","SAGA","asyncAction","put","call","payload","response","meta","error","createRequestSaga","movieDetailSaga","GET_DETAIL","TMDB_API","GET_FURTHER_DETAIL","initializeState","getFurtherDetail","takeLatest","initialState","images","videos","credit","similars","movieDetail","results","moviesSaga","GET_NOW_PLAYING","GET_POPULAR","GET_TOP_RATED","GET_UPCOMING","clearMovies","category","getNowPlaying","getPopular","getTopRated","getUpcoming","nowPlaying","lastPage","total_pages","popular","topRated","upcoming","setBackground","brightness","setBrightness","setLoaded","loaded","initialiState","background","ErrorStyled","styled","div","color","yellow","normal","light","dark","blue","red","default","FADE_INKeyframes","keyframes","FADE_IN","css","ButtonStyle","props","width","height","fontSize","hidden","ActionButtonStyled","button","LinkButtonStyled","Link","Button","to","children","variant","className","withRouter","history","onClick","useCallback","goBack","spinKeyframes","LoadingStyled","Loading","Wrapper","section","HomePageBody","detail","title","tagline","id","HomePageBodyContainer","dispatch","useDispatch","useSelector","nowPlayingError","detailError","nowPlayingLoading","detailLoading","backgroundPath","backgroundLoaded","useEffect","HomePage","InfoStyled","InfoItemStyled","ISO_3166_1","GH","GA","GY","GM","GG","GP","GT","GU","GD","GR","GL","GN","GW","NA","NR","NG","AQ","SS","ZA","NL","AN","NP","NO","NF","NC","NZ","NU","NE","NI","KR","DK","DO","DM","DE","TL","LA","LR","LV","RU","LB","LS","RE","RO","LU","RW","LY","LT","LI","MG","MQ","MH","YT","MO","MK","MW","MY","ML","IM","MX","MC","MA","MU","MR","MZ","ME","MS","MD","MV","MT","MN","US","UM","VI","MM","FM","VU","BH","BB","VA","BS","BD","BM","BJ","VE","VN","BE","BY","BZ","BA","BW","BO","BI","BF","BV","BT","MP","BG","BR","BN","WS","SA","GS","SM","ST","PM","EH","SN","RS","SC","LC","VC","KN","SH","SO","SB","SD","SR","LK","SJ","SE","CH","ES","SK","SI","SY","SL","SX","SG","AE","AW","AM","AR","AS","IS","HT","IE","AZ","AF","AD","AL","DZ","AO","AG","AI","ER","SZ","EE","EC","ET","SV","GB","VG","IO","YE","OM","AU","AT","HN","AX","JO","UG","UY","UZ","UA","WF","IQ","IR","IL","EG","IT","IN","ID","JP","JM","ZM","JE","GQ","KP","GE","CN","CF","DJ","GI","ZW","TD","CZ","CL","CM","CV","KZ","QA","KH","CA","KE","KY","KM","CR","CC","CI","CO","CG","CD","CU","KW","CK","HR","CX","KG","KI","CY","TW","TJ","TZ","TH","TC","TR","TG","TK","TO","TM","TV","TN","TT","PA","PY","PK","PG","PW","PS","FO","PE","PT","FK","PL","PR","FR","GF","TF","PF","FJ","FI","PH","PN","HM","HU","HK","GENRES","28","12","16","35","80","99","18","10751","14","36","27","10402","9648","10749","878","10770","53","10752","37","isEmpty","target","isEmptyArray","statusMap","Released","Planned","Genres","genres","result","index","name","includes","push","mapGenres","map","genre","Runtime","runtime","Status","status","VoteAverage","voteAverage","voteCount","ProductionCountries","productionCountries","arr","iso_3166_1","origin_country","mapCountries","country","Info","vote_average","vote_count","production_countries","TitleStyled","Title","originalTitle","year","objectFit","basis","Image","src","alt","useState","onLoad","PosterStyled","getBasis","window","matchMedia","matches","document","documentElement","clientWidth","clientHeight","Poster","posterPath","setBasis","onResize","addEventListener","removeEventListener","likeKeyframes","watchlistKeyframes","ButtonsStyled","Buttons","homepage","liked","inWatchlist","toggleLiked","toggleInWatchlist","likeTimeoutRef","useRef","watchlistTimeoutRef","onLikeClick","activeElement","blur","focus","clearTimeout","current","setTimeout","onWatchlistClick","href","rel","MovieDetailButtonsContainer","setLiked","setInWatchlist","like","JSON","parse","localStorage","getItem","find","item","newLikeItem","poster_path","newLike","stringify","setItem","e","console","alert","watchlist","newWatchlistItem","newWatchlist","SectionStyle","NoContentStyled","span","SummaryStyled","NoContent","Summary","overview","CreditWrapper","CreditStyled","CreditSlideStyled","CreditSlide","imagePath","role","remToPixel","value","Number","getComputedStyle","body","getPropertyValue","match","getVmin","innerWidth","innerHeight","min","useDebounce","func","delay","timer","params","CreditSwiper","people","swiperParams","setSwiperParams","rebuildOnUpdate","grabCursor","rem","vmin","spaceBetween","max","slidesPerView","slidesPerGroup","slidesPerColumn","debouncedOnResize","person","profile_path","job","character","Cast","cast","Crew","crew","Credit","PostersStyled","BackdropsStyled","ImagesSlideStyled","showZoom","visible","zoom","ImagesSlide","image","file_path","BackdropsSwiper","backdrops","slidesPerColumnFill","backdrop","PostersSwiper","posters","poster","Posters","Backdrops","Images","SimilarsStyled","SimilarSlideStyled","PosterPlaceholderStyled","PosterPlaceholder","SimilarSlide","similar","SimilarsSwiper","Similars","VideosStyled","VideoPlayerStyled","OuterWrapper","InnerWrapper","videoCount","translateX","VideoStyled","PlayerWrapper","Video","video","selected","playerRef","player","getInternalPlayer","pauseVideo","ref","url","controls","VideoPlayer","setSelected","onPrevClick","onNextClick","site","Videos","MovieDetailPageBody","original_title","Date","release_date","getFullYear","MovieDetailPageBodyContainer","furtherDetail","MovieDetailPage","MovieGridStyled","MovieItemStyled","React","memo","position","MovieGrid","PaginationStyled","nav","PrevWrapper","PageNumberWrapper","ol","NextWrapper","li","checkEnoughWidth","getPageIndex","parseInt","buildPageUrl","query","qs","PageNumber","currentPage","location","setSize","currentPageIndex","setCurrentPageIndex","search","ignoreQueryPrefix","lastPageIndex","hidePrev","hideNext","onClickFirst","onClickPrev","onClickNext","onClickLast","pageIndex","keys","getPageNumbers","MoviesPageBody","NowPlayingPageBodyContainer","MoviesPage","NowPlayingPage","PopularPageBodyContainer","PopularPage","TopRatedPageBodyContainer","TopRatedPage","UpcomingPageBodyContainer","UpcomingPage","AboutPage","FullscreenBackgroundStyled","img","FullscreenBackground","currentPath","setCurrentPath","currentBrightness","setCurrentBrightness","HeaderStyled","header","HeaderWrapper","Spacer","LogoStyled","h1","Logo","sitemap","caption","subnavs","CaptionStyle","NavItemStyled","ul","NavItemCaptionStyled","h2","SubnavItemWrapper","itemCount","SubnavItemStyled","SubnavItemCaptionStyled","h3","Fullscreen","SideBarStyled","Closer","VerticalNavItemWrapper","VerticalNavItemStyled","VerticalNavItemCaptionStyled","dropdown","VerticalSubnavItemWrapper","VerticalSubnavItemStyled","VerticalSubnavItemCaptionStyled","NavItemCaption","SubnavItemCaption","SubnavItem","handleMenuClick","handleSelected","handleSubnavClick","ButtonNavItem","SideBar","setNavHidden","onScroll","preventDefault","stopPropagation","VerticalNavStyled","VerticalNavButtonsStyled","searchSaga","SEARCH_MOVIES","showSearchBar","hideSearchBar","searchMovies","SearchButton","VerticalNav","setVisible","setVisibleTrue","setVisibleFalse","AlternativeHorizontalNavStyled","AlternativeNavItemWrapper","AlternativeNavItemStyled","AlternativeSubnavIemWrapper","AlternativeSubnavItemStyled","getChildrenWidthSum","element","widthSum","i","FlexibleNavItem","subnavWrapperRef","style","maxWidth","subnav","AlternativeHorizontalNav","Header","showVerticalNav","setShowVerticalNav","PageMainStyled","main","hideScrollbar","scrollbarWidth","PageMainWrapper","PageMain","MoviesNavStyled","MoviesNavItemWrapper","MoviesNavItemStyled","MoviesNavItemCaptionStyled","activeClassName","NavItem","sitemapIndex","setLastPage","setLike","setError","ceil","slice","LikePage","setWatchlist","WatchlistPage","ZoomStyled","SearchBarStyled","SearchTextStyled","keyword","setKeyword","inputRef","onCancelClick","onChange","onSubmit","placeholder","SearchPageBodyContainer","SearchPage","SearchText","App","exact","component","Boolean","hostname","rootSaga","rootReducer","combineReducers","sagaMiddleware","createSagaMiddleware","store","createStore","applyMiddleware","run","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.c0c1a97b.chunk.js","sourcesContent":["export default function pickRandomMovie(movies, currentBackgroundPath) {\r\n  let movie;\r\n  const moviesWithBackdrop = movies.filter((movie) => movie.backdrop_path);\r\n  while (\r\n    !movie ||\r\n    (moviesWithBackdrop.length > 1 &&\r\n      movie.backdrop_path === currentBackgroundPath)\r\n  ) {\r\n    let randomIndex = Math.floor(Math.random() * moviesWithBackdrop.length);\r\n    movie =\r\n      moviesWithBackdrop.length > 0\r\n        ? moviesWithBackdrop[randomIndex]\r\n        : movies[0];\r\n  }\r\n  return movie;\r\n}\r\n","export default function mergeDetail(detailKR, detailEN) {\r\n  const merged = {};\r\n  for (let key in detailKR) {\r\n    let [valueKR, valueEN] = [detailKR[key], detailEN[key]];\r\n    if (\r\n      valueKR === \"\" ||\r\n      valueKR === null ||\r\n      (Array.isArray(valueKR) && valueKR.length === 0) ||\r\n      typeof valueKR === \"object\" ||\r\n      Object.values(valueKR).length === 0\r\n    ) {\r\n      merged[key] = valueEN;\r\n    } else {\r\n      merged[key] = valueKR;\r\n    }\r\n  }\r\n  return merged;\r\n}\r\n","import axios from \"axios\";\r\n\r\nconst API_KEY = \"212712643a7c2fa54ed2a27a65a622d7\";\r\nconst NOW_PLAYING = \"now_playing\";\r\nconst POPULAR = \"popular\";\r\nconst TOP_RATED = \"top_rated\";\r\nconst UPCOMING = \"upcoming\";\r\n\r\nconst buildFetchMoviesUrl = (type, page = 1) =>\r\n  `https://api.themoviedb.org/3/movie/${type}?api_key=${API_KEY}&language=ko-KR&page=${page}`;\r\n\r\nexport const getNowPlaying = (page = 1) =>\r\n  axios.get(buildFetchMoviesUrl(NOW_PLAYING, page));\r\nexport const getPopular = (page = 1) =>\r\n  axios.get(buildFetchMoviesUrl(POPULAR, page));\r\nexport const getTopRated = (page = 1) =>\r\n  axios.get(buildFetchMoviesUrl(TOP_RATED, page));\r\nexport const getUpcoming = (page = 1) =>\r\n  axios.get(buildFetchMoviesUrl(UPCOMING, page));\r\nexport const getSimilar = (movieId, page = 1) =>\r\n  axios.get(\r\n    `https://api.themoviedb.org/3/movie/${movieId}/similar?api_key=${API_KEY}&language=ko-KR&page=${page}`\r\n  );\r\nexport const getDetail = (movieId) =>\r\n  axios\r\n    .all([\r\n      axios.get(\r\n        `https://api.themoviedb.org/3/movie/${movieId}?api_key=${API_KEY}&language=ko-KR`\r\n      ),\r\n      axios.get(\r\n        `https://api.themoviedb.org/3/movie/${movieId}?api_key=${API_KEY}`\r\n      ),\r\n    ])\r\n    .then((data) => ({ data }));\r\nexport const getImages = (movieId) =>\r\n  axios.get(\r\n    `https://api.themoviedb.org/3/movie/${movieId}/images?api_key=${API_KEY}`\r\n  );\r\nexport const getVideos = (movieId) =>\r\n  axios.get(\r\n    `https://api.themoviedb.org/3/movie/${movieId}/videos?api_key=${API_KEY}`\r\n  );\r\nexport const getCredit = (movieId) =>\r\n  axios.get(\r\n    `https://api.themoviedb.org/3/movie/${movieId}/credits?api_key=${API_KEY}`\r\n  );\r\nexport const getFurtherDetail = (movieId) =>\r\n  axios\r\n    .all([\r\n      getDetail(movieId),\r\n      getImages(movieId),\r\n      getVideos(movieId),\r\n      getCredit(movieId),\r\n      getSimilar(movieId),\r\n    ])\r\n    .then((data) => ({ data }));\r\nexport const searchMovies = ({ query, page = 1 }) =>\r\n  axios.get(`\r\nhttps://api.themoviedb.org/3/search/movie?api_key=${API_KEY}&language=ko-KR&query=${query}&page=${page}&include_adult=false`);\r\n\r\nexport const buildImageUrl = (path, size = 500) => {\r\n  return `\r\n      https://image.tmdb.org/t/p/${\r\n        typeof size === \"number\" ? `w${size}` : size\r\n      }${path}`;\r\n};\r\n","import { createAction, handleActions } from \"redux-actions\";\r\n\r\nconst START_LOADING = \"loading/START_LOADING\";\r\nconst FINISH_LOADING = \"loading/FINISH_LOADING\";\r\n\r\nexport const startLoading = createAction(START_LOADING, (action) => action);\r\nexport const finishLoading = createAction(FINISH_LOADING, (action) => action);\r\n\r\nconst initialState = {};\r\n\r\nconst loading = handleActions(\r\n  {\r\n    [START_LOADING]: (state, { action }) => ({ ...state, [action]: true }),\r\n    [FINISH_LOADING]: (state, { action }) => ({ ...state, [action]: false }),\r\n  },\r\n  initialState\r\n);\r\n\r\nexport default loading;\r\n","import createRequestSaga from \"./createRequestSaga\";\r\n\r\nexport default function createAsyncAction(actionType, api) {\r\n  const REQUEST = `${actionType}_REQUEST`;\r\n  const SUCCESS = `${actionType}_SUCCESS`;\r\n  const FAILURE = `${actionType}_FAILURE`;\r\n  const SAGA = createRequestSaga({ REQUEST, SUCCESS, FAILURE }, api);\r\n  return { REQUEST, SUCCESS, FAILURE, SAGA };\r\n}\r\n","import { put, call } from \"redux-saga/effects\";\r\nimport { startLoading, finishLoading } from \"../reducers/loading\";\r\n\r\nexport default function createRequestSaga(asyncAction, api) {\r\n  const { REQUEST, SUCCESS, FAILURE } = asyncAction;\r\n  return function* (action) {\r\n    yield put(startLoading(REQUEST));\r\n    try {\r\n      const response = yield call(api, action.payload);\r\n      yield put({ type: SUCCESS, payload: response.data, meta: response });\r\n    } catch (e) {\r\n      yield put({ type: FAILURE, payload: e, error: true });\r\n    } finally {\r\n      yield put(finishLoading(REQUEST));\r\n    }\r\n  };\r\n}\r\n","import { createAction, handleActions } from \"redux-actions\";\r\nimport { takeLatest } from \"redux-saga/effects\";\r\nimport * as TMDB_API from \"../lib/TMDB_API\";\r\nimport createAsyncAction from \"../lib/createAsyncAction\";\r\n\r\nconst INITIALIZE_STATE = \"movieDetail/INITIALIZE_STATE\";\r\nconst GET_DETAIL = createAsyncAction(\r\n  \"movieDetail/GET_DETAIL\",\r\n  TMDB_API.getDetail\r\n);\r\nconst GET_FURTHER_DETAIL = createAsyncAction(\r\n  \"movieDetail/GET_FURTHER_DETAIL\",\r\n  TMDB_API.getFurtherDetail\r\n);\r\n\r\nexport const initializeState = createAction(INITIALIZE_STATE);\r\nexport const getDetail = createAction(GET_DETAIL.REQUEST, (movieId) => movieId);\r\nexport const getFurtherDetail = createAction(\r\n  GET_FURTHER_DETAIL.REQUEST,\r\n  (movieId) => movieId\r\n);\r\n\r\nexport function* movieDetailSaga() {\r\n  yield takeLatest(GET_DETAIL.REQUEST, GET_DETAIL.SAGA);\r\n  yield takeLatest(GET_FURTHER_DETAIL.REQUEST, GET_FURTHER_DETAIL.SAGA);\r\n}\r\n\r\nconst initialState = {\r\n  detailKR: null,\r\n  detailEN: null,\r\n  images: null,\r\n  videos: null,\r\n  credit: null,\r\n  similars: null,\r\n  meta: null,\r\n  error: null,\r\n};\r\n\r\nconst movieDetail = handleActions(\r\n  {\r\n    [INITIALIZE_STATE]: () => initialState,\r\n    [GET_DETAIL.REQUEST]: () => initialState,\r\n    [GET_DETAIL.SUCCESS]: (\r\n      state,\r\n      { payload: [{ data: detailKR }, { data: detailEN }], meta }\r\n    ) => ({\r\n      ...state,\r\n      detailKR,\r\n      detailEN,\r\n      meta,\r\n    }),\r\n    [GET_DETAIL.FAILURE]: (state, { payload: error }) => ({\r\n      ...state,\r\n      error,\r\n    }),\r\n    [GET_FURTHER_DETAIL.REQUEST]: () => initialState,\r\n    [GET_FURTHER_DETAIL.SUCCESS]: (\r\n      state,\r\n      {\r\n        payload: [\r\n          {\r\n            data: [{ data: detailKR }, { data: detailEN }],\r\n          },\r\n          { data: images },\r\n          { data: videos },\r\n          { data: credit },\r\n          { data: similars },\r\n        ],\r\n        meta,\r\n      }\r\n    ) => ({\r\n      ...state,\r\n      detailKR,\r\n      detailEN,\r\n      images,\r\n      videos: videos.results,\r\n      credit,\r\n      similars: similars.results,\r\n      meta,\r\n    }),\r\n    [GET_FURTHER_DETAIL.FAILURE]: (state, { payload: error }) => ({\r\n      ...state,\r\n      error,\r\n    }),\r\n  },\r\n  initialState\r\n);\r\n\r\nexport default movieDetail;\r\n","import { createAction, handleActions } from \"redux-actions\";\r\nimport { takeLatest } from \"redux-saga/effects\";\r\nimport * as TMDB_API from \"../lib/TMDB_API\";\r\nimport createAsyncAction from \"../lib/createAsyncAction\";\r\n\r\nconst CLEAR_MOVIES = \"movies/CLEAR_MOVIES\";\r\nconst GET_NOW_PLAYING = createAsyncAction(\r\n  \"movies/GET_NOW_PLAYING\",\r\n  TMDB_API.getNowPlaying\r\n);\r\nconst GET_POPULAR = createAsyncAction(\r\n  \"movies/GET_POPULAR\",\r\n  TMDB_API.getPopular\r\n);\r\nconst GET_TOP_RATED = createAsyncAction(\r\n  \"movies/GET_TOP_RATED\",\r\n  TMDB_API.getTopRated\r\n);\r\nconst GET_UPCOMING = createAsyncAction(\r\n  \"movies/GET_UPCOMING\",\r\n  TMDB_API.getUpcoming\r\n);\r\n\r\nexport const clearMovies = createAction(CLEAR_MOVIES, (category) => category);\r\nexport const getNowPlaying = createAction(\r\n  GET_NOW_PLAYING.REQUEST,\r\n  (page) => page\r\n);\r\nexport const getPopular = createAction(GET_POPULAR.REQUEST, (page) => page);\r\nexport const getTopRated = createAction(GET_TOP_RATED.REQUEST, (page) => page);\r\nexport const getUpcoming = createAction(GET_UPCOMING.REQUEST, (page) => page);\r\n\r\nexport function* moviesSaga() {\r\n  yield takeLatest(GET_NOW_PLAYING.REQUEST, GET_NOW_PLAYING.SAGA);\r\n  yield takeLatest(GET_POPULAR.REQUEST, GET_POPULAR.SAGA);\r\n  yield takeLatest(GET_TOP_RATED.REQUEST, GET_TOP_RATED.SAGA);\r\n  yield takeLatest(GET_UPCOMING.REQUEST, GET_UPCOMING.SAGA);\r\n}\r\n\r\nconst initialState = {\r\n  nowPlaying: null,\r\n  popular: null,\r\n  topRated: null,\r\n  upcoming: null,\r\n  lastPage: null,\r\n  meta: null,\r\n  error: null,\r\n};\r\n\r\nconst movies = handleActions(\r\n  {\r\n    [CLEAR_MOVIES]: (state, { payload: category }) => ({\r\n      ...state,\r\n      [category]: null,\r\n      error: null,\r\n    }),\r\n    [GET_NOW_PLAYING.REQUEST]: (state) => ({\r\n      ...state,\r\n      error: null,\r\n    }),\r\n    [GET_NOW_PLAYING.SUCCESS]: (\r\n      state,\r\n      { payload: { results: nowPlaying, total_pages: lastPage }, meta }\r\n    ) => ({\r\n      ...state,\r\n      nowPlaying,\r\n      lastPage,\r\n      meta,\r\n    }),\r\n    [GET_NOW_PLAYING.FAILURE]: (state, { payload: error }) => ({\r\n      ...state,\r\n      error,\r\n    }),\r\n    [GET_POPULAR.REQUEST]: (state) => ({\r\n      ...state,\r\n      error: null,\r\n    }),\r\n    [GET_POPULAR.SUCCESS]: (\r\n      state,\r\n      { payload: { results: popular, total_pages: lastPage }, meta }\r\n    ) => ({\r\n      ...state,\r\n      popular,\r\n      lastPage,\r\n      meta,\r\n    }),\r\n    [GET_POPULAR.FAILURE]: (state, { payload: error }) => ({\r\n      ...state,\r\n      error,\r\n    }),\r\n    [GET_TOP_RATED.REQUEST]: (state) => ({\r\n      ...state,\r\n      error: null,\r\n    }),\r\n    [GET_TOP_RATED.SUCCESS]: (\r\n      state,\r\n      { payload: { results: topRated, total_pages: lastPage }, meta }\r\n    ) => ({\r\n      ...state,\r\n      topRated,\r\n      lastPage,\r\n      meta,\r\n    }),\r\n    [GET_TOP_RATED.FAILURE]: (state, { payload: error }) => ({\r\n      ...state,\r\n      error,\r\n    }),\r\n    [GET_UPCOMING.REQUEST]: (state) => ({\r\n      ...state,\r\n      error: null,\r\n    }),\r\n    [GET_UPCOMING.SUCCESS]: (\r\n      state,\r\n      { payload: { results: upcoming, total_pages: lastPage }, meta }\r\n    ) => ({\r\n      ...state,\r\n      upcoming,\r\n      lastPage,\r\n      meta,\r\n    }),\r\n    [GET_UPCOMING.FAILURE]: (state, { payload: error }) => ({\r\n      ...state,\r\n      error,\r\n    }),\r\n  },\r\n  initialState\r\n);\r\n\r\nexport default movies;\r\n","import { createAction, handleActions } from \"redux-actions\";\r\n\r\nconst INITIALIZE_STATE = \"background/INITIALIZE_STATE\";\r\nconst SET_BACKGROUND = \"background/SET_BACKGROUND\";\r\nconst SET_BRIGHTNESS = \"background/SET_BRIGHTNESS\";\r\nconst SET_LOADED = \"background/SET_LOADED\";\r\n\r\nexport const initializeState = createAction(INITIALIZE_STATE);\r\nexport const setBackground = createAction(\r\n  SET_BACKGROUND,\r\n  ({ path, brightness }) => ({ path, brightness })\r\n);\r\nexport const setBrightness = createAction(\r\n  SET_BRIGHTNESS,\r\n  (brightness) => brightness\r\n);\r\nexport const setLoaded = createAction(SET_LOADED, (loaded) => loaded);\r\n\r\nconst initialiState = {\r\n  path: null,\r\n  brightness: null,\r\n  loaded: false,\r\n};\r\n\r\nconst background = handleActions(\r\n  {\r\n    [INITIALIZE_STATE]: () => initialiState,\r\n    [SET_BACKGROUND]: (state, { payload: { path, brightness } }) => ({\r\n      ...state,\r\n      path,\r\n      brightness,\r\n      loaded: state.path === path ? true : false,\r\n    }),\r\n    [SET_BRIGHTNESS]: (state, { payload: brightness }) => ({\r\n      ...state,\r\n      brightness,\r\n    }),\r\n    [SET_LOADED]: (state, { payload: loaded }) => ({\r\n      ...state,\r\n      loaded,\r\n    }),\r\n  },\r\n  initialiState\r\n);\r\n\r\nexport default background;\r\n","import styled from \"styled-components\";\r\n\r\nexport const ErrorStyled = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n  strong {\r\n    font-size: 1.25rem;\r\n  }\r\n`;\r\n","const color = {\r\n  yellow: {\r\n    normal: \"#ffff00\",\r\n    light: \"#ffff66\",\r\n    dark: \"#999900\",\r\n  },\r\n  blue: {\r\n    normal: \"#3399ff\",\r\n    light: \"#99ccff\",\r\n    dark: \"#0066cc\",\r\n  },\r\n  red: {\r\n    normal: \"#ff0000\",\r\n    light: \"#ff6666\",\r\n    dark: \"#990000\",\r\n  },\r\n  default: {\r\n    normal: \"#ffffff\",\r\n    dark: \"#cccccc\",\r\n    background: \"rgba(255, 255, 255, 0.3)\",\r\n  },\r\n};\r\n\r\nexport default color;\r\n","//@ts-ignore\r\nimport { keyframes, css } from \"styled-components\";\r\n\r\nexport const DEFAULT_HORIZONTAL_MARGIN = \"max(1rem, 2vmin)\";\r\nexport const HEADER_HEIGHT = \"3.5rem\";\r\n\r\nexport const TRANSITION_HEIGHT = `height 0.25s ease`;\r\nexport const TRANSITION_BACKGROUND_COLOR = `background-color 0.25s ease`;\r\nexport const TRANSITION_COLOR = `color 0.25s ease`;\r\n\r\nconst FADE_INKeyframes = keyframes`\r\n    from {\r\n        opacity: 0;\r\n    }\r\n    to {\r\n        opacity: 1;\r\n    }\r\n`;\r\n\r\nexport const FADE_IN = css`\r\n  ${FADE_INKeyframes} ${\"0.5s forwards\"}\r\n`;\r\n","import styled, { css } from \"styled-components\";\r\nimport { Link } from \"react-router-dom\";\r\nimport color from \"../../../lib/color\";\r\nimport {\r\n  TRANSITION_BACKGROUND_COLOR,\r\n  TRANSITION_COLOR,\r\n} from \"../../../lib/defaultStyles\";\r\n\r\nconst ButtonStyle = css`\r\n  cursor: pointer;\r\n  display: flex;\r\n  position: relative;\r\n  justify-content: center;\r\n  align-items: center;\r\n  box-sizing: content-box;\r\n  padding: 0.25rem 1rem;\r\n  background: none;\r\n  border: none;\r\n  outline: none;\r\n  width: ${(props) => (props.size ? props.size : props.width || \"auto\")};\r\n  height: ${(props) => (props.size ? props.size : props.height || \"auto\")};\r\n  font-size: ${(props) => props.fontSize || \"initial\"};\r\n  visibility: ${(props) => (props.hidden ? \"hidden\" : \"visible\")};\r\n  transition: border 0.25s ease, ${TRANSITION_BACKGROUND_COLOR},\r\n    ${TRANSITION_COLOR};\r\n\r\n  &.outlined {\r\n    border: 2px solid ${(props) => color[props.color || \"default\"].normal};\r\n    color: ${(props) => color[props.color || \"default\"].normal};\r\n\r\n    &:hover {\r\n      border-color: ${(props) => color[props.color || \"default\"].dark};\r\n      color: ${(props) => color[props.color || \"default\"].dark};\r\n    }\r\n  }\r\n\r\n  &.filled {\r\n    border: 2px solid ${(props) => color[props.color || \"default\"].normal};\r\n    background-color: ${(props) => color[props.color || \"default\"].normal};\r\n    color: black;\r\n\r\n    &:hover {\r\n      border-color: ${(props) => color[props.color || \"default\"].dark};\r\n      background-color: ${(props) => color[props.color || \"default\"].dark};\r\n    }\r\n  }\r\n\r\n  &.transparent {\r\n    border: 2px solid transparent;\r\n    color: ${(props) => color[props.color || \"default\"].normal};\r\n\r\n    &:hover {\r\n      background-color: ${color.default.background};\r\n    }\r\n  }\r\n\r\n  &.circle {\r\n    padding: 0.3rem;\r\n    border-radius: 100%;\r\n  }\r\n\r\n  svg {\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n  }\r\n`;\r\n\r\nexport const ActionButtonStyled = styled.button`\r\n  ${ButtonStyle}\r\n`;\r\n\r\nexport const LinkButtonStyled = styled(Link)`\r\n  ${ButtonStyle}\r\n`;\r\n","import React from \"react\";\r\nimport { LinkButtonStyled, ActionButtonStyled } from \"./styles\";\r\n\r\nfunction Button({ to, children, variant, className, ...props }) {\r\n  return to ? (\r\n    <LinkButtonStyled\r\n      className={`${variant}${className ? ` ${className}` : \"\"}`}\r\n      to={to}\r\n      {...props}\r\n    >\r\n      {children}\r\n    </LinkButtonStyled>\r\n  ) : (\r\n    <ActionButtonStyled\r\n      className={`${variant}${className ? ` ${className}` : \"\"}`}\r\n      {...props}\r\n    >\r\n      {children}\r\n    </ActionButtonStyled>\r\n  );\r\n}\r\n\r\nexport default Button;\r\n","import React, { useCallback } from \"react\";\r\nimport { ErrorStyled } from \"./styles\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport Button from \"../Button\";\r\n\r\nfunction Error({ history }) {\r\n  const onClick = useCallback(() => {\r\n    history.goBack();\r\n  }, [history]);\r\n  return (\r\n    <ErrorStyled>\r\n      <strong> . :(</strong>\r\n      <br />\r\n      <strong>       .</strong>\r\n      <br />\r\n      <Button variant=\"outlined\" onClick={onClick}>\r\n        \r\n      </Button>\r\n    </ErrorStyled>\r\n  );\r\n}\r\n\r\nexport default withRouter(Error);\r\n","import styled, { keyframes } from \"styled-components\";\r\n\r\nconst spinKeyframes = keyframes`\r\n    from{\r\n        transform: rotate(0deg);    \r\n    }\r\n    to{\r\n        transform: rotate(360deg);  \r\n    }\r\n`;\r\n\r\nexport const LoadingStyled = styled.div`\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 100%;\r\n  height: ${(props) => (props.height ? 0 : \"100%\")};\r\n  padding-top: ${(props) => props.height || \"0\"};\r\n  opacity: 1;\r\n  color: rgba(255, 255, 255, 0.75);\r\n  transition: opacity 0.25s linear;\r\n\r\n  svg {\r\n    /* transform: translate(-50%, -50%); */\r\n    animation: ${spinKeyframes} 1s linear infinite;\r\n  }\r\n\r\n  &.loaded {\r\n    opacity: 0;\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport { AiOutlineLoading3Quarters } from \"react-icons/ai\";\r\nimport { LoadingStyled } from \"./styles\";\r\n\r\nfunction Loading({ loaded, height }) {\r\n  return (\r\n    <LoadingStyled className={loaded ? \"loadead\" : \"\"} height={height}>\r\n      <AiOutlineLoading3Quarters size=\"2.5rem\" />\r\n    </LoadingStyled>\r\n  );\r\n}\r\n\r\nexport default Loading;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Wrapper = styled.section`\r\n  z-index: 1;\r\n  text-align: center;\r\n  position: absolute;\r\n  width: 80%;\r\n  left: 50%;\r\n  bottom: 7.5vh;\r\n  transform: translateX(-50%);\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  /* text-shadow: 0 0 5px black; */\r\n\r\n  h2 {\r\n    font-size: 6vmin;\r\n    letter-spacing: 2px;\r\n  }\r\n\r\n  p {\r\n    margin: 2vh 0 3vh;\r\n    font-size: 4vmin;\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport { Wrapper } from \"./styles\";\r\nimport Button from \"../common/Button\";\r\n\r\nfunction HomePageBody({ detail }) {\r\n  return (\r\n    <Wrapper>\r\n      <h2>{detail.title}</h2>\r\n      <p>\r\n        <em>{detail.tagline}</em>\r\n      </p>\r\n      <Button fontSize=\"4vmin\" variant=\"outlined\" to={`/movie/${detail.id}`}>\r\n         \r\n      </Button>\r\n    </Wrapper>\r\n  );\r\n}\r\n\r\nexport default HomePageBody;\r\n","import React, { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport pickRandomMovie from \"../lib/pickRandomMovie\";\r\nimport mergeDetail from \"../lib/mergeDetail\";\r\nimport initializeView from \"../lib/initializeView\";\r\nimport { getDetail, initializeState } from \"../reducers/movieDetail\";\r\nimport { getNowPlaying } from \"../reducers/movies\";\r\nimport { setBackground } from \"../reducers/background\";\r\nimport Error from \"../components/common/Error\";\r\nimport Loading from \"../components/common/Loading\";\r\nimport HomePageBody from \"../components/HomePage\";\r\n\r\nfunction HomePageBodyContainer() {\r\n  const dispatch = useDispatch();\r\n  const { nowPlaying, error: nowPlayingError } = useSelector(\r\n    ({ movies }) => movies\r\n  );\r\n  const { detailKR, detailEN, error: detailError } = useSelector(\r\n    ({ movieDetail }) => movieDetail\r\n  );\r\n  const { nowPlayingLoading, detailLoading } = useSelector(({ loading }) => ({\r\n    nowPlayingLoading: loading[\"movies/GET_NOW_PLAYING_REQUEST\"],\r\n    detailLoading: loading[\"movieDetail/GET_DETAIL_REQUEST\"],\r\n  }));\r\n  const { path: backgroundPath, loaded: backgroundLoaded } = useSelector(\r\n    ({ background }) => background\r\n  );\r\n\r\n  useEffect(() => {\r\n    initializeView();\r\n    return () => {\r\n      dispatch(initializeState());\r\n    };\r\n  }, [dispatch]);\r\n\r\n  useEffect(() => {\r\n    if (!nowPlaying && !nowPlayingLoading) {\r\n      dispatch(getNowPlaying());\r\n      return;\r\n    }\r\n    if (!detailKR && !detailLoading) {\r\n      const movie = pickRandomMovie(nowPlaying, backgroundPath);\r\n      dispatch(getDetail(movie.id));\r\n      return;\r\n    }\r\n    if (detailKR && detailKR.backdrop_path !== backgroundPath) {\r\n      dispatch(\r\n        setBackground({ path: detailKR.backdrop_path, brightness: \"bright\" })\r\n      );\r\n    }\r\n  }, [\r\n    nowPlaying,\r\n    nowPlayingLoading,\r\n    detailKR,\r\n    detailLoading,\r\n    backgroundPath,\r\n    dispatch,\r\n  ]);\r\n\r\n  if (detailError || nowPlayingError) return <Error />;\r\n  if (detailLoading || nowPlayingLoading || !backgroundLoaded)\r\n    return <Loading />;\r\n  if (!detailKR || !nowPlaying) return null;\r\n\r\n  return <HomePageBody detail={mergeDetail(detailKR, detailEN)} />;\r\n}\r\n\r\nexport default HomePageBodyContainer;\r\n","import React from \"react\";\r\nimport HomePageBodyContainer from \"../containers/HomePageBodyContainer\";\r\n\r\nfunction HomePage(props) {\r\n  return <HomePageBodyContainer />;\r\n}\r\n\r\nexport default HomePage;\r\n","import styled from \"styled-components\";\r\n\r\nexport const InfoStyled = styled.div`\r\n  margin: 2rem auto 0;\r\n  display: grid;\r\n  grid-template-columns: repeat(5, 1fr);\r\n  align-items: flex-start;\r\n  max-width: 768px;\r\n\r\n  /* @media screen and (max-width: 767px) {\r\n    width: 100%;\r\n  } */\r\n`;\r\n\r\nexport const InfoItemStyled = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  text-align: center;\r\n  line-height: 1;\r\n\r\n  svg {\r\n    margin-bottom: 1rem;\r\n  }\r\n\r\n  span {\r\n    font-size: 1rem;\r\n  }\r\n\r\n  span + span {\r\n    margin-top: 0.75rem;\r\n  }\r\n`;\r\n","const ISO_3166_1 = {\r\n  GH: \"\",\r\n  GA: \"\",\r\n  GY: \"\",\r\n  GM: \"\",\r\n  GG: \"\",\r\n  GP: \"\",\r\n  GT: \"\",\r\n  GU: \"\",\r\n  GD: \"\",\r\n  GR: \"\",\r\n  GL: \"\",\r\n  GN: \"\",\r\n  GW: \"\",\r\n  NA: \"\",\r\n  NR: \"\",\r\n  NG: \"\",\r\n  AQ: \"\",\r\n  SS: \"\",\r\n  ZA: \" \",\r\n  NL: \"\",\r\n  AN: \" \",\r\n  NP: \"\",\r\n  NO: \"\",\r\n  NF: \"\",\r\n  NC: \"\",\r\n  NZ: \"\",\r\n  NU: \"\",\r\n  NE: \"\",\r\n  NI: \"\",\r\n  KR: \"\",\r\n  DK: \"\",\r\n  DO: \" \",\r\n  DM: \" \",\r\n  DE: \"\",\r\n  TL: \"\",\r\n  LA: \"\",\r\n  LR: \"\",\r\n  LV: \"\",\r\n  RU: \"\",\r\n  LB: \"\",\r\n  LS: \"\",\r\n  RE: \"\",\r\n  RO: \"\",\r\n  LU: \"\",\r\n  RW: \"\",\r\n  LY: \"\",\r\n  LT: \"\",\r\n  LI: \"\",\r\n  MG: \"\",\r\n  MQ: \"\",\r\n  MH: \" \",\r\n  YT: \"\",\r\n  MO: \"\",\r\n  MK: \"\",\r\n  MW: \"\",\r\n  MY: \"\",\r\n  ML: \"\",\r\n  IM: \"\",\r\n  MX: \"\",\r\n  MC: \"\",\r\n  MA: \"\",\r\n  MU: \"\",\r\n  MR: \"\",\r\n  MZ: \"\",\r\n  ME: \"\",\r\n  MS: \"\",\r\n  MD: \"\",\r\n  MV: \"\",\r\n  MT: \"\",\r\n  MN: \"\",\r\n  US: \"\",\r\n  UM: \"  \",\r\n  VI: \" \",\r\n  MM: \"\",\r\n  FM: \" \",\r\n  VU: \"\",\r\n  BH: \"\",\r\n  BB: \"\",\r\n  VA: \" \",\r\n  BS: \"\",\r\n  BD: \"\",\r\n  BM: \"\",\r\n  BJ: \"\",\r\n  VE: \"\",\r\n  VN: \"\",\r\n  BE: \"\",\r\n  BY: \"\",\r\n  BZ: \"\",\r\n  BA: \" \",\r\n  BW: \"\",\r\n  BO: \"\",\r\n  BI: \"\",\r\n  BF: \"\",\r\n  BV: \"\",\r\n  BT: \"\",\r\n  MP: \" \",\r\n  BG: \"\",\r\n  BR: \"\",\r\n  BN: \"\",\r\n  WS: \"\",\r\n  SA: \"\",\r\n  GS: \"  \",\r\n  SM: \"\",\r\n  ST: \" \",\r\n  PM: \" \",\r\n  EH: \"\",\r\n  SN: \"\",\r\n  RS: \"\",\r\n  SC: \"\",\r\n  LC: \"\",\r\n  VC: \" \",\r\n  KN: \" \",\r\n  SH: \"\",\r\n  SO: \"\",\r\n  SB: \" \",\r\n  SD: \"\",\r\n  SR: \"\",\r\n  LK: \"\",\r\n  SJ: \" \",\r\n  SE: \"\",\r\n  CH: \"\",\r\n  ES: \"\",\r\n  SK: \"\",\r\n  SI: \"\",\r\n  SY: \"\",\r\n  SL: \"\",\r\n  SX: \"\",\r\n  SG: \"\",\r\n  AE: \"\",\r\n  AW: \"\",\r\n  AM: \"\",\r\n  AR: \"\",\r\n  AS: \"\",\r\n  IS: \"\",\r\n  HT: \"\",\r\n  IE: \"\",\r\n  AZ: \"\",\r\n  AF: \"\",\r\n  AD: \"\",\r\n  AL: \"\",\r\n  DZ: \"\",\r\n  AO: \"\",\r\n  AG: \" \",\r\n  AI: \"\",\r\n  ER: \"\",\r\n  SZ: \"\",\r\n  EE: \"\",\r\n  EC: \"\",\r\n  ET: \"\",\r\n  SV: \"\",\r\n  GB: \"\",\r\n  VG: \" \",\r\n  IO: \"  \",\r\n  YE: \"\",\r\n  OM: \"\",\r\n  AU: \"\",\r\n  AT: \"\",\r\n  HN: \"\",\r\n  AX: \" \",\r\n  JO: \"\",\r\n  UG: \"\",\r\n  UY: \"\",\r\n  UZ: \"\",\r\n  UA: \"\",\r\n  WF: \" \",\r\n  IQ: \"\",\r\n  IR: \"\",\r\n  IL: \"\",\r\n  EG: \"\",\r\n  IT: \"\",\r\n  IN: \"\",\r\n  ID: \"\",\r\n  JP: \"\",\r\n  JM: \"\",\r\n  ZM: \"\",\r\n  JE: \"\",\r\n  GQ: \" \",\r\n  KP: \"\",\r\n  GE: \"\",\r\n  CN: \"\",\r\n  CF: \" \",\r\n  DJ: \"\",\r\n  GI: \"\",\r\n  ZW: \"\",\r\n  TD: \"\",\r\n  CZ: \"\",\r\n  CL: \"\",\r\n  CM: \"\",\r\n  CV: \"\",\r\n  KZ: \"\",\r\n  QA: \"\",\r\n  KH: \"\",\r\n  CA: \"\",\r\n  KE: \"\",\r\n  KY: \" \",\r\n  KM: \"\",\r\n  CR: \"\",\r\n  CC: \" \",\r\n  CI: \"\",\r\n  CO: \"\",\r\n  CG: \" \",\r\n  CD: \"  \",\r\n  CU: \"\",\r\n  KW: \"\",\r\n  CK: \" \",\r\n  HR: \"\",\r\n  CX: \"\",\r\n  KG: \"\",\r\n  KI: \"\",\r\n  CY: \"\",\r\n  TW: \"\",\r\n  TJ: \"\",\r\n  TZ: \"\",\r\n  TH: \"\",\r\n  TC: \"  \",\r\n  TR: \"\",\r\n  TG: \"\",\r\n  TK: \"\",\r\n  TO: \"\",\r\n  TM: \"\",\r\n  TV: \"\",\r\n  TN: \"\",\r\n  TT: \" \",\r\n  PA: \"\",\r\n  PY: \"\",\r\n  PK: \"\",\r\n  PG: \"\",\r\n  PW: \"\",\r\n  PS: \"\",\r\n  FO: \" \",\r\n  PE: \"\",\r\n  PT: \"\",\r\n  FK: \" \",\r\n  PL: \"\",\r\n  PR: \"\",\r\n  FR: \"\",\r\n  GF: \" \",\r\n  TF: \"   \",\r\n  PF: \" \",\r\n  FJ: \"\",\r\n  FI: \"\",\r\n  PH: \"\",\r\n  PN: \" \",\r\n  HM: \"  \",\r\n  HU: \"\",\r\n  HK: \"\",\r\n};\r\n\r\nexport default function mapCountries(arr) {\r\n  const result = [];\r\n  for (let index in arr) {\r\n    let name = arr[index].iso_3166_1\r\n      ? ISO_3166_1[arr[index].iso_3166_1]\r\n      : ISO_3166_1[arr[index].origin_country];\r\n    if (!result.includes(name)) {\r\n      result.push(name);\r\n    }\r\n  }\r\n  return result;\r\n}\r\n","const GENRES = {\r\n  28: \"\",\r\n  12: \"\",\r\n  16: \"\",\r\n  35: \"\",\r\n  80: \"\",\r\n  99: \"\",\r\n  18: \"\",\r\n  10751: \"\",\r\n  14: \"\",\r\n  36: \"\",\r\n  27: \"\",\r\n  10402: \"\",\r\n  9648: \"\",\r\n  10749: \"\",\r\n  878: \"SF\",\r\n  10770: \"TV \",\r\n  53: \"\",\r\n  10752: \"\",\r\n  37: \"\",\r\n};\r\n\r\nexport default function mapGenres(genres) {\r\n  const result = [];\r\n  for (let index in genres) {\r\n    let name = GENRES[genres[index].id];\r\n    if (!result.includes(name)) {\r\n      result.push(name);\r\n    }\r\n  }\r\n  return result;\r\n}\r\n","export function isEmpty(target) {\r\n  return (\r\n    target === 0 ||\r\n    target === \"0\" ||\r\n    target === null ||\r\n    target === \"\" ||\r\n    (Array.isArray(target) && target.length === 0)\r\n  );\r\n}\r\n\r\nexport function isEmptyArray(target) {\r\n  return Array.isArray(target) && target.length === 0;\r\n}\r\n","import React from \"react\";\r\nimport { MdLabel, MdAccessTime, MdMovie, MdStar, MdFlag } from \"react-icons/md\";\r\nimport { InfoStyled, InfoItemStyled } from \"./styles\";\r\nimport mapCountries from \"../../../lib/ISO_3166_1\";\r\nimport mapGenres from \"../../../lib/GENRES\";\r\nimport { isEmpty } from \"../../../lib/isEmpty\";\r\n\r\nconst statusMap = {\r\n  \"In Production\": \"\",\r\n  \"Post Production\": \" \",\r\n  Released: \"\",\r\n  Planned: \"\",\r\n};\r\n\r\nfunction Info({ detail }) {\r\n  return (\r\n    <InfoStyled>\r\n      <Genres genres={detail.genres} />\r\n      <Runtime runtime={detail.runtime} />\r\n      <Status status={detail.status} />\r\n      <VoteAverage\r\n        voteAverage={detail.vote_average}\r\n        voteCount={detail.vote_count}\r\n      />\r\n      <ProductionCountries productionCountries={detail.production_countries} />\r\n    </InfoStyled>\r\n  );\r\n}\r\n\r\nfunction Genres({ genres }) {\r\n  return (\r\n    <InfoItemStyled>\r\n      <MdLabel size=\"1.5rem\" />\r\n      {isEmpty(genres) ? (\r\n        <span>-</span>\r\n      ) : (\r\n        mapGenres(genres).map((genre) => <span key={genre}>{genre}</span>)\r\n      )}\r\n    </InfoItemStyled>\r\n  );\r\n}\r\n\r\nfunction Runtime({ runtime }) {\r\n  return (\r\n    <InfoItemStyled>\r\n      {/* <strong> </strong> */}\r\n      <MdAccessTime size=\"1.5rem\" />\r\n      <span>{isEmpty(runtime) ? \"-\" : `${runtime}`}</span>\r\n    </InfoItemStyled>\r\n  );\r\n}\r\n\r\nfunction Status({ status }) {\r\n  return (\r\n    <InfoItemStyled>\r\n      {/* <strong></strong> */}\r\n      <MdMovie size=\"1.5rem\" />\r\n      <span>{isEmpty(status) ? \"-\" : statusMap[status] || status}</span>\r\n    </InfoItemStyled>\r\n  );\r\n}\r\nfunction VoteAverage({ voteAverage, voteCount }) {\r\n  return (\r\n    <InfoItemStyled>\r\n      {/* <strong> </strong> */}\r\n      <MdStar size=\"1.5rem\" />\r\n      <span>{isEmpty(voteCount) ? \"-\" : voteAverage}</span>\r\n    </InfoItemStyled>\r\n  );\r\n}\r\n\r\nfunction ProductionCountries({ productionCountries }) {\r\n  return (\r\n    <InfoItemStyled>\r\n      {/* <strong> </strong> */}\r\n      <MdFlag size=\"1.5rem\" />\r\n      {isEmpty(productionCountries) ? (\r\n        <span>-</span>\r\n      ) : (\r\n        mapCountries(productionCountries).map((country) => (\r\n          <span key={country}>{country} </span>\r\n        ))\r\n      )}\r\n    </InfoItemStyled>\r\n  );\r\n}\r\n\r\nexport default Info;\r\n","import styled from \"styled-components\";\r\n\r\nexport const TitleStyled = styled.div`\r\n  /* margin-top: 5vmin; */\r\n  display: grid;\r\n  align-items: center;\r\n  justify-items: center;\r\n  grid-gap: 0.25rem;\r\n  text-transform: uppercase;\r\n  letter-spacing: 1px;\r\n  /* line-height: 1; */\r\n  text-align: center;\r\n\r\n  h1 {\r\n    font-size: 1.75rem;\r\n    order: 1;\r\n  }\r\n\r\n  h2 {\r\n    font-size: 1rem;\r\n    font-weight: 300;\r\n    order: 2;\r\n  }\r\n\r\n  span {\r\n    font-weight: 300;\r\n    order: 3;\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport { TitleStyled } from \"./styles\";\r\n\r\nfunction Title({ title, originalTitle, year }) {\r\n  return (\r\n    <TitleStyled>\r\n      <h1>{title}</h1>\r\n      {title !== originalTitle && <h2>{originalTitle}</h2>}\r\n      {year && <span>{year}</span>}\r\n    </TitleStyled>\r\n  );\r\n}\r\n\r\nexport default Title;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Wrapper = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: ${(props) =>\r\n    props.objectFit === \"fill\"\r\n      ? \"100%\"\r\n      : props.basis === \"height\"\r\n      ? \"auto\"\r\n      : \"100%\"};\r\n  height: ${(props) =>\r\n    props.objectFit === \"fill\"\r\n      ? \"100%\"\r\n      : props.basis === \"height\"\r\n      ? \"100%\"\r\n      : \"auto\"};\r\n  /* width: 100%;\r\n  height: 100%; */\r\n\r\n  img {\r\n    display: block;\r\n    object-fit: ${(props) => props.objectFit || \"cover\"};\r\n    opacity: 0;\r\n    transition: opacity 0.25s linear;\r\n    /* max-width: ${(props) => (props.basis === \"height\" ? \"initial\" : \"100%\")};\r\n    max-height: ${(props) =>\r\n      props.basis === \"height\" ? \"100%\" : \"initial\"}; */\r\n    width: ${(props) =>\r\n      props.objectFit === \"fill\"\r\n        ? \"100%\"\r\n        : props.basis === \"height\"\r\n        ? \"auto\"\r\n        : \"100%\"};\r\n    height: ${(props) =>\r\n      props.objectFit === \"fill\"\r\n        ? \"100%\"\r\n        : props.basis === \"height\"\r\n        ? \"100%\"\r\n        : \"auto\"};\r\n\r\n    &.loaded {\r\n      opacity: 1;\r\n    }\r\n  }\r\n`;\r\n","import React, { useState, useCallback } from \"react\";\r\nimport { Wrapper } from \"./styles\";\r\nimport Loading from \"../Loading\";\r\n\r\nfunction Image({ src, alt = \"\", objectFit, basis, height }) {\r\n  const [loaded, setLoaded] = useState(false);\r\n\r\n  const onLoad = useCallback(() => {\r\n    setLoaded(true);\r\n  }, []);\r\n\r\n  return (\r\n    <Wrapper objectFit={objectFit} basis={basis}>\r\n      {!loaded && <Loading loaded={loaded} height={height} />}\r\n      <img\r\n        className={loaded ? \"loaded\" : \"\"}\r\n        src={src}\r\n        alt={alt}\r\n        onLoad={onLoad}\r\n      />\r\n    </Wrapper>\r\n  );\r\n}\r\n\r\nexport default Image;\r\n","import styled from \"styled-components\";\r\n\r\nexport const PosterStyled = styled.div`\r\n  flex: none;\r\n  height: 100%;\r\n  margin-right: 1rem;\r\n  order: 1;\r\n\r\n  @media screen and (orientation: portrait) {\r\n    margin: 1rem 0 0 0;\r\n    width: 80%;\r\n    order: 2;\r\n    height: auto;\r\n\r\n    & > div {\r\n      min-height: 20vh;\r\n    }\r\n  }\r\n\r\n  @media screen and (min-width: 768px) and (min-height: 768px) {\r\n    margin: 1rem 0 0 0;\r\n    height: 55vh;\r\n    order: 2;\r\n  }\r\n`;\r\n","import React, { useEffect, useCallback, useState } from \"react\";\r\nimport { buildImageUrl } from \"../../../lib/TMDB_API\";\r\nimport Image from \"../../common/Image\";\r\nimport { PosterStyled } from \"./styles\";\r\n\r\nfunction getBasis() {\r\n  return window.matchMedia(\"(orientation: portrait)\").matches &&\r\n    !(\r\n      document.documentElement.clientWidth >= 768 &&\r\n      document.documentElement.clientHeight >= 768\r\n    )\r\n    ? \"width\"\r\n    : \"height\";\r\n}\r\n\r\nfunction Poster({ posterPath }) {\r\n  const [basis, setBasis] = useState(\"height\");\r\n\r\n  const onResize = useCallback(() => {\r\n    setBasis(getBasis());\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setBasis(getBasis());\r\n    window.addEventListener(\"resize\", onResize);\r\n    return () => {\r\n      window.removeEventListener(\"resize\", onResize);\r\n    };\r\n  }, [onResize]);\r\n\r\n  return (\r\n    posterPath && (\r\n      <PosterStyled>\r\n        <Image\r\n          objectFit=\"contain\"\r\n          basis={basis}\r\n          src={buildImageUrl(posterPath, 1280)}\r\n        />\r\n      </PosterStyled>\r\n    )\r\n  );\r\n}\r\n\r\nexport default Poster;\r\n","import styled, { keyframes } from \"styled-components\";\r\n\r\nconst likeKeyframes = keyframes`\r\n  from {\r\n    box-shadow: 0 0 2rem rgba(255, 0, 0, 1);\r\n  }\r\n  to {\r\n    box-shadow: 0 0 4rem rgba(255, 0, 0, 0);\r\n  }\r\n`;\r\n\r\nconst watchlistKeyframes = keyframes`\r\n  from {\r\n    box-shadow: 0 0 2rem rgba(255, 255, 0, 1);\r\n  }\r\n  to {\r\n    box-shadow: 0 0 4rem rgba(255, 255, 0, 0);\r\n  }\r\n`;\r\n\r\nexport const ButtonsStyled = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-top: 0.2rem;\r\n\r\n  & > a,\r\n  & > button {\r\n    margin: 0 0.1rem;\r\n  }\r\n\r\n  .like:focus {\r\n    animation: ${likeKeyframes} 1s alternate;\r\n  }\r\n\r\n  .watchlist:focus {\r\n    animation: ${watchlistKeyframes} 1s alternate;\r\n  }\r\n`;\r\n","import React, { useCallback, useRef, useEffect } from \"react\";\r\nimport {\r\n  MdHome,\r\n  MdFavorite,\r\n  MdFavoriteBorder,\r\n  MdBookmark,\r\n  MdBookmarkBorder,\r\n} from \"react-icons/md\";\r\nimport Button from \"../../common/Button\";\r\nimport { ButtonsStyled } from \"./styles\";\r\n\r\nfunction Buttons({\r\n  homepage,\r\n  liked,\r\n  inWatchlist,\r\n  toggleLiked,\r\n  toggleInWatchlist,\r\n}) {\r\n  const likeTimeoutRef = useRef(null);\r\n  const watchlistTimeoutRef = useRef(null);\r\n\r\n  const onLikeClick = useCallback(() => {\r\n    const button = document.activeElement;\r\n    button.blur();\r\n    button.focus();\r\n    toggleLiked();\r\n    clearTimeout(likeTimeoutRef.current);\r\n    likeTimeoutRef.current = setTimeout(() => button.blur(), 1000);\r\n  }, [toggleLiked]);\r\n  const onWatchlistClick = useCallback(() => {\r\n    const button = document.activeElement;\r\n    button.blur();\r\n    button.focus();\r\n    toggleInWatchlist();\r\n    clearTimeout(watchlistTimeoutRef.current);\r\n    watchlistTimeoutRef.current = setTimeout(() => button.blur(), 1000);\r\n  }, [toggleInWatchlist]);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      clearTimeout(likeTimeoutRef.current);\r\n      clearTimeout(watchlistTimeoutRef.current);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <ButtonsStyled>\r\n      {homepage && (\r\n        <Button size=\"1.5rem\" variant=\"transparent circle\" color=\"blue\">\r\n          <a\r\n            href={homepage}\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\"\r\n            alt=\"homepage\"\r\n          >\r\n            <MdHome size=\"1.5rem\" />\r\n          </a>\r\n        </Button>\r\n      )}\r\n      <Button\r\n        className=\"like\"\r\n        size=\"1.5rem\"\r\n        variant=\"transparent circle\"\r\n        color=\"red\"\r\n        onClick={onLikeClick}\r\n      >\r\n        {liked ? (\r\n          <MdFavorite size=\"1.5rem\" />\r\n        ) : (\r\n          <MdFavoriteBorder size=\"1.5rem\" />\r\n        )}\r\n      </Button>\r\n      <Button\r\n        className=\"watchlist\"\r\n        size=\"1.5rem\"\r\n        variant=\"transparent circle\"\r\n        color=\"yellow\"\r\n        onClick={onWatchlistClick}\r\n      >\r\n        {inWatchlist ? (\r\n          <MdBookmark size=\"1.5rem\" />\r\n        ) : (\r\n          <MdBookmarkBorder size=\"1.5rem\" />\r\n        )}\r\n      </Button>\r\n    </ButtonsStyled>\r\n  );\r\n}\r\n\r\nexport default Buttons;\r\n","import React, { useState, useCallback, useEffect } from \"react\";\r\nimport Buttons from \"../../components/MovieDetailPage/Buttons\";\r\n\r\nfunction MovieDetailButtonsContainer({ movie, homepage }) {\r\n  const [liked, setLiked] = useState(null);\r\n  const [inWatchlist, setInWatchlist] = useState(null);\r\n\r\n  const toggleLiked = useCallback(() => {\r\n    try {\r\n      const like = JSON.parse(localStorage.getItem(\"like\")) || [];\r\n      const liked = like.find((item) => item.id === movie.id);\r\n      const newLikeItem = {\r\n        id: movie.id,\r\n        title: movie.title,\r\n        poster_path: movie.poster_path,\r\n        backdrop_path: movie.backdrop_path,\r\n      };\r\n      const newLike = JSON.stringify(\r\n        liked\r\n          ? like.filter((item) => item.id !== movie.id)\r\n          : [newLikeItem, ...like]\r\n      );\r\n      localStorage.setItem(\"like\", newLike);\r\n      setLiked(!liked);\r\n    } catch (e) {\r\n      console.error(e);\r\n      alert(\"    .\");\r\n    }\r\n  }, [movie]);\r\n  const toggleInWatchlist = useCallback(() => {\r\n    try {\r\n      const watchlist = JSON.parse(localStorage.getItem(\"watchlist\")) || [];\r\n      const inWatchlist = watchlist.find((item) => item.id === movie.id);\r\n      const newWatchlistItem = {\r\n        id: movie.id,\r\n        title: movie.title,\r\n        poster_path: movie.poster_path,\r\n        backdrop_path: movie.backdrop_path,\r\n      };\r\n      const newWatchlist = JSON.stringify(\r\n        inWatchlist\r\n          ? watchlist.filter((item) => item.id !== movie.id)\r\n          : [newWatchlistItem, ...watchlist]\r\n      );\r\n      localStorage.setItem(\"watchlist\", newWatchlist);\r\n      setInWatchlist(!inWatchlist);\r\n    } catch (e) {\r\n      console.error(e);\r\n      alert(\"    .\");\r\n    }\r\n  }, [movie]);\r\n\r\n  useEffect(() => {\r\n    try {\r\n      const like = JSON.parse(localStorage.getItem(\"like\")) || [];\r\n      const watchlist = JSON.parse(localStorage.getItem(\"watchlist\")) || [];\r\n      setLiked(!!like.find((item) => item.id === movie.id));\r\n      setInWatchlist(!!watchlist.find((item) => item.id === movie.id));\r\n    } catch (e) {\r\n      console.error(e);\r\n      alert(\"    .\");\r\n    }\r\n  }, [movie]);\r\n\r\n  if (liked === null || inWatchlist === null) return null;\r\n\r\n  return (\r\n    <Buttons\r\n      homepage={homepage}\r\n      liked={liked}\r\n      inWatchlist={inWatchlist}\r\n      toggleLiked={toggleLiked}\r\n      toggleInWatchlist={toggleInWatchlist}\r\n    />\r\n  );\r\n}\r\n\r\nexport default MovieDetailButtonsContainer;\r\n","import styled from \"styled-components\";\r\nimport color from \"../../lib/color\";\r\n\r\nexport const SectionStyle = styled.section`\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-top: 6rem;\r\n\r\n  & > * {\r\n    margin: 0;\r\n  }\r\n\r\n  h2,\r\n  h3 {\r\n    line-height: 1.25;\r\n    text-align: center;\r\n  }\r\n\r\n  h2 {\r\n    margin: 0 auto 2.5rem;\r\n    padding: 0 2rem;\r\n    display: inline-block;\r\n    font-size: 1.5rem;\r\n    border-left: 5px solid ${color.default.normal};\r\n    border-right: 5px solid ${color.default.normal};\r\n  }\r\n\r\n  h3 {\r\n    margin-bottom: 1rem;\r\n    font-size: 1.25rem;\r\n    font-style: italic;\r\n  }\r\n\r\n  .swiper-slide.click-action {\r\n    transition: transform 0.25s ease;\r\n    cursor: pointer;\r\n\r\n    &:hover {\r\n      transform: scale(0.95, 0.95);\r\n    }\r\n  }\r\n`;\r\n\r\nexport const Wrapper = styled.section`\r\n  display: flex;\r\n  justify-content: space-evenly;\r\n  align-items: center;\r\n  height: calc(100% - 4rem);\r\n  margin: 2rem auto;\r\n  width: 100%;\r\n\r\n  .header {\r\n    display: flex;\r\n    flex-direction: column;\r\n    flex: initial;\r\n    width: max-content;\r\n    order: 2;\r\n    max-width: 60%;\r\n  }\r\n\r\n  @media screen and (orientation: portrait) {\r\n    flex-direction: column;\r\n    justify-content: flex-start;\r\n    height: auto;\r\n\r\n    .header {\r\n      order: 1;\r\n      margin: 0;\r\n      /* width: 100%; */\r\n      max-width: 100%;\r\n    }\r\n  }\r\n\r\n  @media screen and (min-width: 768px) and (min-height: 768px) {\r\n    height: auto;\r\n    flex-direction: column;\r\n    justify-content: flex-start;\r\n\r\n    .header {\r\n      order: 1;\r\n      margin: 0;\r\n      width: 100%;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const NoContentStyled = styled.span`\r\n  color: gray;\r\n  text-align: center;\r\n`;\r\n","import styled from \"styled-components\";\r\nimport { SectionStyle } from \"../styles\";\r\n\r\nexport const SummaryStyled = styled(SectionStyle)`\r\n  em {\r\n    text-align: center;\r\n    font-size: 1.25rem;\r\n  }\r\n\r\n  p {\r\n    margin-top: 1rem;\r\n    line-height: 1.8;\r\n    box-sizing: border-box;\r\n    font-size: 1rem;\r\n    /* padding: 0 2vmin; */\r\n    /* text-align: justify; */\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport { NoContentStyled } from \"./styles\";\r\n\r\nfunction NoContent({ children }) {\r\n  return <NoContentStyled>{children}</NoContentStyled>;\r\n}\r\n\r\nexport default NoContent;\r\n","import React from \"react\";\r\nimport { SummaryStyled } from \"./styles\";\r\nimport { isEmpty } from \"../../../lib/isEmpty\";\r\nimport NoContent from \"../NoContent\";\r\n\r\nfunction Summary({ tagline, overview }) {\r\n  return (\r\n    <SummaryStyled>\r\n      <h2></h2>\r\n      {!isEmpty(tagline) && <em>{tagline}</em>}\r\n      {!isEmpty(overview) && <p>{overview}</p>}\r\n      {isEmpty(tagline + overview) && (\r\n        <NoContent>  .</NoContent>\r\n      )}\r\n    </SummaryStyled>\r\n  );\r\n}\r\n\r\nexport default Summary;\r\n","import styled from \"styled-components\";\r\nimport { SectionStyle } from \"../styles\";\r\nimport { DEFAULT_HORIZONTAL_MARGIN } from \"../../../lib/defaultStyles\";\r\nimport color from \"../../../lib/color\";\r\n\r\nexport const CreditWrapper = styled.div`\r\n  margin-top: 6rem;\r\n  display: grid;\r\n  grid-gap: 0 ${DEFAULT_HORIZONTAL_MARGIN};\r\n  grid-template-columns: repeat(2, minmax(0, 1fr));\r\n  grid-template-areas:\r\n    \"header header\"\r\n    \"cast crew\";\r\n\r\n  .swiper-container {\r\n    height: calc(\r\n      calc(min(calc(60vmin / 2), 9rem) * 3) +\r\n        calc(${DEFAULT_HORIZONTAL_MARGIN} * 2)\r\n    );\r\n\r\n    .swiper-wrapper {\r\n      flex-direction: column;\r\n    }\r\n\r\n    @media screen and (max-height: 500px) {\r\n      height: calc(\r\n        calc(min(calc(60vmin / 2), 9rem) * 2) +\r\n          calc(${DEFAULT_HORIZONTAL_MARGIN})\r\n      );\r\n    }\r\n  }\r\n\r\n  & > h2 {\r\n    grid-area: header;\r\n    line-height: 1.25;\r\n    text-align: center;\r\n    margin: 0 auto 2.5rem;\r\n    padding: 0 2rem;\r\n    display: inline-block;\r\n    font-size: 1.5rem;\r\n    border-left: 5px solid ${color.default.normal};\r\n    border-right: 5px solid ${color.default.normal};\r\n  }\r\n\r\n  section {\r\n    margin-top: 0;\r\n\r\n    h2,\r\n    h3 {\r\n      display: none;\r\n    }\r\n  }\r\n\r\n  @media screen and (max-width: 1023px) {\r\n    margin-top: 0;\r\n    grid-gap: 0;\r\n    grid-template-columns: minmax(0, 1fr);\r\n    grid-template-areas:\r\n      \"header\"\r\n      \"cast\"\r\n      \"crew\";\r\n\r\n    h2 {\r\n      display: none;\r\n    }\r\n\r\n    section {\r\n      margin-top: 6rem;\r\n\r\n      h2,\r\n      h3 {\r\n        display: block;\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const CreditStyled = styled(SectionStyle)`\r\n  @media screen and (max-width: 1023px) {\r\n    h2 {\r\n      display: none;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const CreditSlideStyled = styled.div`\r\n  display: flex;\r\n  align-items: flex-start;\r\n  height: min(calc(60vmin / 2), 9rem);\r\n\r\n  img,\r\n  .placeholder {\r\n    position: relative;\r\n    flex: none;\r\n    width: min(calc(60vmin / 3), 6rem);\r\n    height: 100%;\r\n  }\r\n\r\n  img {\r\n    object-fit: cover;\r\n  }\r\n\r\n  .placeholder {\r\n    background: rgb(45, 45, 45);\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n\r\n    svg {\r\n      color: rgb(120, 120, 120);\r\n      width: 100%;\r\n      height: 100%;\r\n    }\r\n  }\r\n\r\n  .info {\r\n    flex: auto;\r\n    display: flex;\r\n    flex-direction: column;\r\n    margin-left: 0.5rem;\r\n\r\n    span {\r\n      /* margin-top: 0.5rem; */\r\n      /* text-align: center; */\r\n\r\n      &.name {\r\n        font-weight: bold;\r\n      }\r\n    }\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport { MdPerson } from \"react-icons/md\";\r\nimport { CreditSlideStyled } from \"./styles\";\r\nimport { buildImageUrl } from \"../../../lib/TMDB_API\";\r\n\r\nfunction CreditSlide({ imagePath, name, role }) {\r\n  return (\r\n    <CreditSlideStyled className=\"swiper-slide\">\r\n      {imagePath ? (\r\n        <img src={buildImageUrl(imagePath, 200)} alt=\"\" />\r\n      ) : (\r\n        <div className=\"placeholder\">\r\n          <MdPerson size=\"80%\" />\r\n        </div>\r\n      )}\r\n      <div className=\"info\">\r\n        <span className=\"name\">{name}</span>\r\n        <span className=\"role\">{role}</span>\r\n      </div>\r\n    </CreditSlideStyled>\r\n  );\r\n}\r\n\r\nexport default CreditSlide;\r\n","export default function remToPixel(value = 1) {\r\n  return (\r\n    Number(\r\n      window\r\n        .getComputedStyle(document.body)\r\n        .getPropertyValue(\"font-size\")\r\n        .match(/\\d+/)[0]\r\n    ) * value\r\n  );\r\n}\r\n","export default function getVmin(value = 1) {\r\n  const { innerWidth: width, innerHeight: height } = window;\r\n  return (Math.min(width, height) * value) / 100;\r\n}\r\n","import { useCallback, useRef } from \"react\";\r\n\r\nexport default function useDebounce(func, delay) {\r\n  const timer = useRef(null);\r\n  const debounced = useCallback(\r\n    (...params) => {\r\n      if (timer.current) return;\r\n      clearTimeout(timer.current);\r\n      timer.current = setTimeout(() => {\r\n        func(params);\r\n        timer.current = null;\r\n      }, delay);\r\n    },\r\n    [func, delay]\r\n  );\r\n  return [debounced, timer];\r\n}\r\n","import React, { useState, useCallback, useEffect } from \"react\";\r\nimport Swiper from \"react-id-swiper\";\r\nimport CreditSlide from \"./CreditSlide\";\r\nimport remToPixel from \"../../../lib/remToPixel\";\r\nimport getVmin from \"../../../lib/getVmin\";\r\nimport useDebounce from \"../../../lib/useDebounce\";\r\n\r\nfunction CreditSwiper({ people }) {\r\n  const [swiperParams, setSwiperParams] = useState(null);\r\n  const params = {\r\n    ...swiperParams,\r\n    // slidesPerColumnFill: \"row\",\r\n    rebuildOnUpdate: true,\r\n    grabCursor: true,\r\n  };\r\n\r\n  const onResize = useCallback(() => {\r\n    const { innerWidth: width, innerHeight: height } = window;\r\n    const rem = remToPixel();\r\n    const vmin = getVmin(2);\r\n    const spaceBetween = Math.max(rem, vmin);\r\n    const slidesPerView = 1024 > width && width >= 500 ? 2 : 1;\r\n    const slidesPerColumn = height <= 500 ? 2 : 3;\r\n    const slidesPerGroup = slidesPerView;\r\n    setSwiperParams({\r\n      spaceBetween,\r\n      slidesPerView,\r\n      slidesPerGroup,\r\n      slidesPerColumn,\r\n    });\r\n  }, []);\r\n  const [debouncedOnResize, timer] = useDebounce(onResize, 100);\r\n\r\n  useEffect(() => {\r\n    debouncedOnResize();\r\n    window.addEventListener(\"resize\", debouncedOnResize);\r\n    return () => {\r\n      window.removeEventListener(\"resize\", debouncedOnResize);\r\n      // eslint-disable-next-line react-hooks/exhaustive-deps\r\n      clearTimeout(timer.current);\r\n    };\r\n  }, [debouncedOnResize, timer]);\r\n\r\n  return (\r\n    <Swiper {...params}>\r\n      {people.map((person, index) => (\r\n        <CreditSlide\r\n          key={index}\r\n          imagePath={person.profile_path}\r\n          name={person.name}\r\n          role={person.job || person.character}\r\n        />\r\n      ))}\r\n    </Swiper>\r\n  );\r\n}\r\n\r\nexport default CreditSwiper;\r\n","import React from \"react\";\r\nimport { CreditStyled, CreditWrapper } from \"./styles\";\r\nimport CreditSwiper from \"./CreditSwiper\";\r\nimport { isEmpty } from \"../../../lib/isEmpty\";\r\nimport NoContent from \"../NoContent\";\r\n\r\nfunction Credit({ credit }) {\r\n  return (\r\n    <CreditWrapper>\r\n      <h2> & </h2>\r\n      <Cast cast={credit.cast} />\r\n      <Crew crew={credit.crew} />\r\n    </CreditWrapper>\r\n  );\r\n}\r\n\r\nfunction Cast({ cast }) {\r\n  return (\r\n    <CreditStyled>\r\n      <h2></h2>\r\n      {isEmpty(cast) ? (\r\n        <NoContent>  .</NoContent>\r\n      ) : (\r\n        <CreditSwiper people={cast} />\r\n      )}\r\n    </CreditStyled>\r\n  );\r\n}\r\n\r\nfunction Crew({ crew }) {\r\n  return (\r\n    <CreditStyled>\r\n      <h2></h2>\r\n      {isEmpty(crew) ? (\r\n        <NoContent>  .</NoContent>\r\n      ) : (\r\n        <CreditSwiper people={crew} />\r\n      )}\r\n    </CreditStyled>\r\n  );\r\n}\r\n\r\nexport default Credit;\r\n","import styled from \"styled-components\";\r\nimport { SectionStyle } from \"../styles\";\r\n\r\nexport const PostersStyled = styled(SectionStyle)``;\r\n\r\nexport const BackdropsStyled = styled(SectionStyle)``;\r\n\r\nexport const ImagesSlideStyled = styled.div`\r\n  img {\r\n    width: 100%;\r\n    height: auto;\r\n  }\r\n`;\r\n","import { createAction, handleActions } from \"redux-actions\";\r\n\r\nconst INITIALIZE_STATE = \"zoom/INITIALIZE_STATE\";\r\nconst SHOW_ZOOM = \"zoom/SHOW_ZOOM\";\r\n\r\nexport const initializeState = createAction(INITIALIZE_STATE);\r\nexport const showZoom = createAction(SHOW_ZOOM, (path) => path);\r\n\r\nconst initialiState = {\r\n  path: null,\r\n  visible: false,\r\n};\r\n\r\nconst zoom = handleActions(\r\n  {\r\n    [INITIALIZE_STATE]: () => initialiState,\r\n    [SHOW_ZOOM]: (state, { payload: path }) => ({\r\n      ...state,\r\n      path,\r\n      visible: true,\r\n    }),\r\n  },\r\n  initialiState\r\n);\r\n\r\nexport default zoom;\r\n","import React from \"react\";\r\nimport { buildImageUrl } from \"../../../lib/TMDB_API\";\r\n// eslint-disable-next-line\r\nimport Image from \"../../common/Image\";\r\nimport { ImagesSlideStyled } from \"./styles\";\r\n\r\nfunction ImagesSlide({ type, image, onClick }) {\r\n  return (\r\n    <ImagesSlideStyled\r\n      className=\"swiper-slide click-action\"\r\n      onClick={() => onClick(image.file_path)}\r\n      type={type}\r\n    >\r\n      <img\r\n        src={buildImageUrl(image.file_path, type === \"backdrop\" ? 400 : 300)}\r\n        alt=\"\"\r\n      />\r\n    </ImagesSlideStyled>\r\n  );\r\n}\r\n\r\nexport default ImagesSlide;\r\n","import React, { useState, useCallback, useEffect } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport Swiper from \"react-id-swiper\";\r\nimport remToPixel from \"../../../lib/remToPixel\";\r\nimport getVmin from \"../../../lib/getVmin\";\r\nimport { showZoom } from \"../../../reducers/zoom\";\r\nimport ImagesSlide from \"./ImagesSlide\";\r\nimport useDebounce from \"../../../lib/useDebounce\";\r\n\r\nfunction BackdropsSwiper({ backdrops }) {\r\n  const dispatch = useDispatch();\r\n  const [swiperParams, setSwiperParams] = useState(null);\r\n  const params = {\r\n    ...swiperParams,\r\n    slidesPerColumnFill: \"row\",\r\n    grabCursor: true,\r\n    rebuildOnUpdate: true,\r\n  };\r\n\r\n  const onResize = useCallback(() => {\r\n    const { innerWidth: width, innerHeight: height } = window;\r\n    const rem = remToPixel();\r\n    const vmin = getVmin(2);\r\n    const spaceBetween = Math.max(rem, vmin);\r\n    const slidesPerColumn = height >= 500 ? 2 : 1;\r\n    const slidesPerView = width >= 1024 ? 3 : width <= 567 ? 1 : 2;\r\n    const slidesPerGroup = slidesPerView;\r\n    setSwiperParams({\r\n      spaceBetween,\r\n      slidesPerView,\r\n      slidesPerGroup,\r\n      slidesPerColumn,\r\n    });\r\n  }, []);\r\n  const [debouncedOnResize, timer] = useDebounce(onResize, 100);\r\n  const onClick = useCallback(\r\n    (path) => {\r\n      dispatch(showZoom(path));\r\n    },\r\n    [dispatch]\r\n  );\r\n\r\n  useEffect(() => {\r\n    debouncedOnResize();\r\n    window.addEventListener(\"resize\", debouncedOnResize);\r\n    return () => {\r\n      window.removeEventListener(\"resize\", debouncedOnResize);\r\n      // eslint-disable-next-line react-hooks/exhaustive-deps\r\n      clearTimeout(timer.current);\r\n    };\r\n  }, [debouncedOnResize, timer]);\r\n\r\n  return (\r\n    <Swiper {...params}>\r\n      {backdrops.map((backdrop, index) => (\r\n        <ImagesSlide\r\n          key={index}\r\n          type=\"backdrop\"\r\n          image={backdrop}\r\n          onClick={onClick}\r\n        />\r\n      ))}\r\n    </Swiper>\r\n  );\r\n}\r\n\r\nexport default BackdropsSwiper;\r\n","import React, { useState, useCallback, useEffect } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport Swiper from \"react-id-swiper\";\r\nimport remToPixel from \"../../../lib/remToPixel\";\r\nimport getVmin from \"../../../lib/getVmin\";\r\nimport { showZoom } from \"../../../reducers/zoom\";\r\nimport ImagesSlide from \"./ImagesSlide\";\r\nimport useDebounce from \"../../../lib/useDebounce\";\r\n\r\nfunction PostersSwiper({ posters }) {\r\n  const dispatch = useDispatch();\r\n  const [swiperParams, setSwiperParams] = useState(null);\r\n  const params = {\r\n    ...swiperParams,\r\n    slidesPerColumnFill: \"row\",\r\n    grabCursor: true,\r\n    rebuildOnUpdate: true,\r\n  };\r\n\r\n  const onResize = useCallback(() => {\r\n    const { innerWidth: width } = window;\r\n    const rem = remToPixel();\r\n    const vmin = getVmin(2);\r\n    const spaceBetween = Math.max(rem, vmin);\r\n    // const slidesPerColumn = height >= 500 ? 2 : 1;\r\n    const slidesPerView = width >= 1280 ? 5 : width >= 568 ? 4 : 2;\r\n    const slidesPerGroup = slidesPerView;\r\n    setSwiperParams({\r\n      spaceBetween,\r\n      slidesPerView,\r\n      slidesPerGroup,\r\n      // slidesPerColumn,\r\n    });\r\n  }, []);\r\n  const [debouncedOnResize, timer] = useDebounce(onResize, 100);\r\n  const onClick = useCallback(\r\n    (path) => {\r\n      dispatch(showZoom(path));\r\n    },\r\n    [dispatch]\r\n  );\r\n\r\n  useEffect(() => {\r\n    debouncedOnResize();\r\n    window.addEventListener(\"resize\", debouncedOnResize);\r\n    return () => {\r\n      window.removeEventListener(\"resize\", debouncedOnResize);\r\n      // eslint-disable-next-line react-hooks/exhaustive-deps\r\n      clearTimeout(timer.current);\r\n    };\r\n  }, [debouncedOnResize, timer]);\r\n\r\n  return (\r\n    <Swiper {...params}>\r\n      {posters.map((poster, index) => (\r\n        <ImagesSlide\r\n          key={index}\r\n          type=\"poster\"\r\n          image={poster}\r\n          onClick={onClick}\r\n        />\r\n      ))}\r\n    </Swiper>\r\n  );\r\n}\r\n\r\nexport default PostersSwiper;\r\n","import React from \"react\";\r\nimport { PostersStyled, BackdropsStyled } from \"./styles\";\r\nimport { isEmpty } from \"../../../lib/isEmpty\";\r\nimport BackdropsSwiper from \"./BackdropsSwiper\";\r\nimport PostersSwiper from \"./PostersSwiper\";\r\nimport NoContent from \"../NoContent\";\r\n\r\nfunction Images({ images }) {\r\n  return (\r\n    <>\r\n      <Backdrops backdrops={images.backdrops} />\r\n      <Posters posters={images.posters} />\r\n    </>\r\n  );\r\n}\r\n\r\nfunction Posters({ posters }) {\r\n  return (\r\n    <PostersStyled>\r\n      <h2></h2>\r\n      {isEmpty(posters) ? (\r\n        <NoContent>  .</NoContent>\r\n      ) : (\r\n        <PostersSwiper posters={posters} />\r\n      )}\r\n    </PostersStyled>\r\n  );\r\n}\r\n\r\nfunction Backdrops({ backdrops }) {\r\n  return (\r\n    <BackdropsStyled>\r\n      <h2></h2>\r\n      {isEmpty(backdrops) ? (\r\n        <NoContent>  .</NoContent>\r\n      ) : (\r\n        <BackdropsSwiper backdrops={backdrops} />\r\n      )}\r\n    </BackdropsStyled>\r\n  );\r\n}\r\n\r\nexport default Images;\r\n","import styled from \"styled-components\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { SectionStyle } from \"../styles\";\r\n\r\nexport const SimilarsStyled = styled(SectionStyle)`\r\n  margin-bottom: 2rem;\r\n`;\r\n\r\nexport const SimilarSlideStyled = styled(Link)`\r\n  img {\r\n    width: 100%;\r\n    height: auto;\r\n  }\r\n`;\r\n","import styled from \"styled-components\";\r\n\r\nexport const PosterPlaceholderStyled = styled.div`\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 0;\r\n  padding-top: 150%;\r\n  background: rgb(45, 45, 45);\r\n\r\n  span {\r\n    z-index: 1;\r\n    box-sizing: border-box;\r\n    padding: 10%;\r\n    position: absolute;\r\n    left: 0;\r\n    right: 0;\r\n    top: 0;\r\n    bottom: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    /* word-break: break-all; */\r\n    font-size: 100%;\r\n    text-align: center;\r\n  }\r\n\r\n  svg {\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    color: rgb(60, 60, 60);\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport { MdLocalMovies } from \"react-icons/md\";\r\nimport { PosterPlaceholderStyled } from \"./styles\";\r\n\r\nfunction PosterPlaceholder({ title }) {\r\n  return (\r\n    <PosterPlaceholderStyled>\r\n      <span>{title}</span>\r\n      <MdLocalMovies size=\"75%\" />\r\n    </PosterPlaceholderStyled>\r\n  );\r\n}\r\n\r\nexport default PosterPlaceholder;\r\n","import React from \"react\";\r\nimport { buildImageUrl } from \"../../../lib/TMDB_API\";\r\nimport { SimilarSlideStyled } from \"./styles\";\r\nimport PosterPlaceholder from \"../../common/PosterPlaceholder\";\r\n// eslint-disable-next-line\r\nimport Image from \"../../common/Image\";\r\n\r\nfunction SimilarSlide({ similar }) {\r\n  return (\r\n    <SimilarSlideStyled\r\n      className=\"swiper-slide click-action\"\r\n      to={`/movie/${similar.id}`}\r\n      alt={similar.title}\r\n    >\r\n      {similar.poster_path ? (\r\n        <img src={buildImageUrl(similar.poster_path, 300)} alt=\"\" />\r\n      ) : (\r\n        // <Image\r\n        //   src={buildImageUrl(similar.poster_path, 400)}\r\n        //   alt=\"\"\r\n        //   height=\"150%\"\r\n        // />\r\n        <PosterPlaceholder title={similar.title} />\r\n      )}\r\n    </SimilarSlideStyled>\r\n  );\r\n}\r\n\r\nexport default SimilarSlide;\r\n","import React, { useEffect, useCallback, useState } from \"react\";\r\nimport Swiper from \"react-id-swiper\";\r\nimport remToPixel from \"../../../lib/remToPixel\";\r\nimport getVmin from \"../../../lib/getVmin\";\r\nimport SimilarSlide from \"./SimilarSlide\";\r\nimport useDebounce from \"../../../lib/useDebounce\";\r\n\r\nfunction SimilarsSwiper({ similars }) {\r\n  const [swiperParams, setSwiperParams] = useState(null);\r\n  const params = {\r\n    ...swiperParams,\r\n    rebuildOnUpdate: true,\r\n    grabCursor: true,\r\n  };\r\n\r\n  const onResize = useCallback(() => {\r\n    const { innerWidth: width } = window;\r\n    const rem = remToPixel();\r\n    const vmin = getVmin(2);\r\n    const spaceBetween = Math.max(rem, vmin);\r\n    // const slidesPerColumn = height >= 500 ? 2 : 1;\r\n    const slidesPerView = width >= 1280 ? 5 : width >= 568 ? 4 : 2;\r\n    const slidesPerGroup = slidesPerView;\r\n    setSwiperParams({\r\n      spaceBetween,\r\n      slidesPerView,\r\n      slidesPerGroup,\r\n      // slidesPerColumn,\r\n    });\r\n  }, []);\r\n  const [debouncedOnResize, timer] = useDebounce(onResize, 100);\r\n\r\n  useEffect(() => {\r\n    debouncedOnResize();\r\n    window.addEventListener(\"resize\", debouncedOnResize);\r\n    return () => {\r\n      window.removeEventListener(\"resize\", debouncedOnResize);\r\n      // eslint-disable-next-line react-hooks/exhaustive-deps\r\n      clearTimeout(timer.current);\r\n    };\r\n  }, [debouncedOnResize, timer]);\r\n\r\n  return (\r\n    <Swiper {...params}>\r\n      {similars.map((similar) => (\r\n        <SimilarSlide key={similar.id} similar={similar} />\r\n      ))}\r\n    </Swiper>\r\n  );\r\n}\r\n\r\nexport default SimilarsSwiper;\r\n","import React from \"react\";\r\nimport SimilarsSwiper from \"./SimilarsSwiper\";\r\nimport { SimilarsStyled } from \"./styles\";\r\nimport { isEmpty } from \"../../../lib/isEmpty\";\r\nimport NoContent from \"../NoContent\";\r\n\r\nfunction Similars({ similars }) {\r\n  return (\r\n    <SimilarsStyled>\r\n      <h2> </h2>\r\n      {isEmpty(similars) ? (\r\n        <NoContent>  .</NoContent>\r\n      ) : (\r\n        <SimilarsSwiper similars={similars} />\r\n      )}\r\n    </SimilarsStyled>\r\n  );\r\n}\r\n\r\nexport default Similars;\r\n","import styled from \"styled-components\";\r\nimport { SectionStyle } from \"../styles\";\r\nimport { DEFAULT_HORIZONTAL_MARGIN } from \"../../../lib/defaultStyles\";\r\n\r\nexport const VideosStyled = styled(SectionStyle)``;\r\n\r\nexport const VideoPlayerStyled = styled.div`\r\n  display: grid;\r\n  grid-template-columns: 1fr min(60%, 640px) 1fr;\r\n  grid-template-areas: \"prev video next\";\r\n  grid-gap: 0 ${DEFAULT_HORIZONTAL_MARGIN};\r\n  align-items: center;\r\n\r\n  .prev {\r\n    grid-area: prev;\r\n\r\n    &.landscape {\r\n      justify-self: flex-end;\r\n    }\r\n  }\r\n\r\n  .next {\r\n    grid-area: next;\r\n\r\n    &.landscape {\r\n      justify-self: flex-start;\r\n    }\r\n  }\r\n\r\n  .portrait {\r\n    display: none;\r\n  }\r\n\r\n  @media screen and (orientation: portrait) and (max-width: 767px) {\r\n    grid-template-columns: 1fr 1fr;\r\n    grid-gap: ${DEFAULT_HORIZONTAL_MARGIN} 0;\r\n    grid-template-areas:\r\n      \"video video\"\r\n      \"prev next\";\r\n\r\n    .landscape {\r\n      display: none;\r\n    }\r\n\r\n    .portrait {\r\n      display: block;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const OuterWrapper = styled.div`\r\n  grid-area: video;\r\n  width: 100%;\r\n  overflow: hidden;\r\n`;\r\n\r\nexport const InnerWrapper = styled.div`\r\n  display: grid;\r\n  grid-template-columns: ${(props) => `repeat(${props.videoCount}, 1fr)`};\r\n  width: ${(props) => `${props.videoCount * 100}%`};\r\n  transform: ${(props) => `translateX(-${props.translateX})`};\r\n  transition: transform 0.3s ease;\r\n`;\r\n\r\nexport const VideoStyled = styled.div`\r\n  width: 100%;\r\n  position: relative;\r\n  text-align: center;\r\n\r\n  span {\r\n    display: inline-block;\r\n    margin-top: 0.5rem;\r\n    font-weight: 300;\r\n  }\r\n`;\r\n\r\nexport const PlayerWrapper = styled.div`\r\n  position: relative;\r\n  width: 100%;\r\n  padding-top: 56.25%;\r\n\r\n  .react-player {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n  }\r\n`;\r\n","import React, { useEffect, useRef } from \"react\";\r\nimport ReactPlayer from \"react-player\";\r\nimport { VideoStyled, PlayerWrapper } from \"./styles\";\r\n\r\nfunction Video({ index, video, selected }) {\r\n  const playerRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (index !== selected && playerRef.current) {\r\n      const player = playerRef.current.getInternalPlayer();\r\n      if (player && player.pauseVideo) {\r\n        player.pauseVideo();\r\n      }\r\n    }\r\n  }, [index, selected]);\r\n\r\n  return (\r\n    <VideoStyled>\r\n      <PlayerWrapper>\r\n        <ReactPlayer\r\n          ref={playerRef}\r\n          className=\"react-player\"\r\n          url={`https://www.youtube.com/watch?v=${video.key}`}\r\n          controls\r\n          width=\"100%\"\r\n          height=\"100%\"\r\n        />\r\n      </PlayerWrapper>\r\n      <span>{video.name}</span>\r\n    </VideoStyled>\r\n  );\r\n}\r\n\r\nexport default Video;\r\n","import React, { useState, useCallback } from \"react\";\r\nimport { MdNavigateBefore, MdNavigateNext } from \"react-icons/md\";\r\nimport { VideoPlayerStyled, OuterWrapper, InnerWrapper } from \"./styles\";\r\nimport Button from \"../../common/Button\";\r\nimport Video from \"./Video\";\r\n\r\nfunction VideoPlayer({ videos }) {\r\n  const [selected, setSelected] = useState(0);\r\n\r\n  const onPrevClick = useCallback(() => {\r\n    setSelected((state) => (state - 1 >= 0 ? state - 1 : 0));\r\n  }, []);\r\n  const onNextClick = useCallback(() => {\r\n    setSelected((state) =>\r\n      state + 1 < videos.length ? state + 1 : videos.length - 1\r\n    );\r\n  }, [videos.length]);\r\n\r\n  return (\r\n    <VideoPlayerStyled id=\"video-player\">\r\n      {selected !== 0 && (\r\n        <>\r\n          <Button\r\n            className=\"prev landscape\"\r\n            size=\"2rem\"\r\n            variant=\"transparent circle\"\r\n            onClick={onPrevClick}\r\n          >\r\n            <MdNavigateBefore size=\"2.5rem\" />\r\n          </Button>\r\n          <Button\r\n            className=\"prev portrait\"\r\n            width=\"auto\"\r\n            height=\"2rem\"\r\n            variant=\"transparent\"\r\n            onClick={onPrevClick}\r\n          >\r\n            <MdNavigateBefore size=\"2.5rem\" />\r\n          </Button>\r\n        </>\r\n      )}\r\n      <OuterWrapper>\r\n        <InnerWrapper\r\n          videoCount={videos.length}\r\n          translateX={`${(100 / videos.length) * selected}%`}\r\n        >\r\n          {videos.map(\r\n            (video, index) =>\r\n              video.site === \"YouTube\" && (\r\n                <Video\r\n                  key={index}\r\n                  index={index}\r\n                  video={video}\r\n                  selected={selected}\r\n                />\r\n              )\r\n          )}\r\n        </InnerWrapper>\r\n      </OuterWrapper>\r\n      {selected !== videos.length - 1 && (\r\n        <>\r\n          <Button\r\n            className=\"next landscape\"\r\n            size=\"2rem\"\r\n            variant=\"transparent circle\"\r\n            onClick={onNextClick}\r\n          >\r\n            <MdNavigateNext size=\"2.5rem\" />\r\n          </Button>\r\n          <Button\r\n            className=\"next portrait\"\r\n            width=\"auto\"\r\n            height=\"2rem\"\r\n            variant=\"transparent\"\r\n            onClick={onNextClick}\r\n          >\r\n            <MdNavigateNext size=\"2.5rem\" />\r\n          </Button>\r\n        </>\r\n      )}\r\n    </VideoPlayerStyled>\r\n  );\r\n}\r\n\r\nexport default VideoPlayer;\r\n","import React from \"react\";\r\nimport { isEmpty } from \"../../../lib/isEmpty\";\r\nimport NoContent from \"../NoContent\";\r\nimport VideoPlayer from \"./VideoPlayer\";\r\nimport { VideosStyled } from \"./styles\";\r\n\r\nfunction Videos({ videos }) {\r\n  return (\r\n    <VideosStyled>\r\n      <h2></h2>\r\n      {isEmpty(videos) ? (\r\n        <NoContent>  .</NoContent>\r\n      ) : (\r\n        <VideoPlayer videos={videos} />\r\n      )}\r\n    </VideosStyled>\r\n  );\r\n}\r\n\r\nexport default Videos;\r\n","import React from \"react\";\r\nimport Info from \"./Info\";\r\nimport Title from \"./Title\";\r\nimport Poster from \"./Poster\";\r\nimport MovieDetailButtonsContainer from \"../../containers/MovieDetailPage/MovieDetailButtonsContainer\";\r\nimport mergeDetail from \"../../lib/mergeDetail\";\r\nimport Summary from \"./Summary\";\r\nimport { Wrapper } from \"./styles\";\r\nimport Credit from \"./Credit\";\r\nimport Images from \"./Images\";\r\nimport Similars from \"./Similars\";\r\nimport Videos from \"./Videos\";\r\n\r\nfunction MovieDetailPageBody({\r\n  detailKR,\r\n  detailEN,\r\n  images,\r\n  videos,\r\n  credit,\r\n  similars,\r\n}) {\r\n  const detail = mergeDetail(detailKR, detailEN);\r\n\r\n  return (\r\n    <>\r\n      <Wrapper>\r\n        <Poster posterPath={detail.poster_path} />\r\n        <div className=\"header\">\r\n          <Title\r\n            title={detail.title}\r\n            originalTitle={detail.original_title}\r\n            year={new Date(detail.release_date).getFullYear()}\r\n          />\r\n          <MovieDetailButtonsContainer\r\n            homepage={detail.homepage}\r\n            movie={detail}\r\n          />\r\n        </div>\r\n      </Wrapper>\r\n      <Info detail={detail} />\r\n      <Summary tagline={detail.tagline} overview={detail.overview} />\r\n      <Credit credit={credit} />\r\n      <Images images={images} />\r\n      <Videos videos={videos} />\r\n      <Similars similars={similars} />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default MovieDetailPageBody;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport initializeView from \"../../lib/initializeView\";\r\nimport { initializeState, getFurtherDetail } from \"../../reducers/movieDetail\";\r\nimport { setBackground } from \"../../reducers/background\";\r\nimport Error from \"../../components/common/Error\";\r\nimport Loading from \"../../components/common/Loading\";\r\nimport MovieDetailPageBody from \"../../components/MovieDetailPage\";\r\n\r\nfunction MovieDetailPageBodyContainer({ movieId }) {\r\n  const [loaded, setLoaded] = useState(false);\r\n  const dispatch = useDispatch();\r\n  const movieDetail = useSelector(({ movieDetail }) => movieDetail);\r\n  const { detailKR, error, ...furtherDetail } = movieDetail;\r\n  const { loaded: backgroundLoaded } = useSelector(\r\n    ({ background }) => background\r\n  );\r\n\r\n  useEffect(() => {\r\n    initializeView();\r\n    setLoaded(false);\r\n    dispatch(getFurtherDetail(movieId));\r\n    return () => {\r\n      dispatch(initializeState());\r\n    };\r\n  }, [movieId, dispatch]);\r\n\r\n  useEffect(() => {\r\n    if (!detailKR) return;\r\n    setLoaded(true);\r\n    dispatch(\r\n      setBackground({ path: detailKR.backdrop_path, brightness: \"dark\" })\r\n    );\r\n  }, [detailKR, dispatch]);\r\n\r\n  if (error) return <Error />;\r\n  if (!loaded || (detailKR && detailKR.backdrop_path && !backgroundLoaded))\r\n    return <Loading />;\r\n  if (!detailKR || Object.values(furtherDetail).includes(null)) return null;\r\n\r\n  return <MovieDetailPageBody detailKR={detailKR} {...furtherDetail} />;\r\n}\r\n\r\nexport default MovieDetailPageBodyContainer;\r\n","import React from \"react\";\r\nimport MovieDetailPageBodyContainer from \"../containers/MovieDetailPage/MovieDetailPageBodyContainer\";\r\n\r\nfunction MovieDetailPage({ match }) {\r\n  const { movieId } = match.params;\r\n  return <MovieDetailPageBodyContainer movieId={movieId} />;\r\n}\r\n\r\nexport default MovieDetailPage;\r\n","import styled from \"styled-components\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { FADE_IN, DEFAULT_HORIZONTAL_MARGIN } from \"../../lib/defaultStyles\";\r\n\r\nexport const MovieGridStyled = styled.div`\r\n  display: grid;\r\n  grid-gap: ${DEFAULT_HORIZONTAL_MARGIN};\r\n\r\n  @media screen and (min-width: 1281px) {\r\n    & {\r\n      grid-template-columns: repeat(5, 1fr);\r\n    }\r\n  }\r\n\r\n  @media screen and (max-width: 1280px) {\r\n    & {\r\n      grid-template-columns: repeat(4, 1fr);\r\n    }\r\n  }\r\n\r\n  @media screen and (max-width: 567px) {\r\n    & {\r\n      grid-template-columns: repeat(2, 1fr);\r\n    }\r\n  }\r\n`;\r\n\r\nexport const MovieItemStyled = styled(Link)`\r\n  display: block;\r\n  position: relative;\r\n  width: 100%;\r\n  padding-top: 150%;\r\n  opacity: 0;\r\n  transition: box-shadow 0.25s ease;\r\n  /* transition: opacity 0.25s ease; */\r\n  animation: ${FADE_IN} ${(props) => `${props.index * 0.1}s`} linear;\r\n\r\n  & > * {\r\n    position: absolute !important;\r\n    top: 0;\r\n    left: 0;\r\n  }\r\n\r\n  &:hover {\r\n    box-shadow: 0 0 0 0.5vmin white;\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport { MovieItemStyled } from \"./styles\";\r\nimport { buildImageUrl } from \"../../lib/TMDB_API\";\r\nimport Image from \"../common/Image\";\r\nimport PosterPlaceholder from \"../common/PosterPlaceholder\";\r\n\r\nfunction MovieItem({ movie, index }) {\r\n  return (\r\n    <MovieItemStyled to={`/movie/${movie.id}`} index={index}>\r\n      {movie.poster_path ? (\r\n        <Image\r\n          src={buildImageUrl(movie.poster_path, 400)}\r\n          alt={movie.title}\r\n          position=\"absolute\"\r\n          objectFit=\"fill\"\r\n        />\r\n      ) : (\r\n        <PosterPlaceholder title={movie.title} />\r\n      )}\r\n    </MovieItemStyled>\r\n  );\r\n}\r\n\r\nexport default React.memo(MovieItem);\r\n","import React from \"react\";\r\nimport { MovieGridStyled } from \"./styles\";\r\nimport MovieItem from \"./MovieItem\";\r\n\r\nfunction MovieGrid({ movies }) {\r\n  return (\r\n    <MovieGridStyled>\r\n      {movies.map((movie, index) => (\r\n        <MovieItem key={movie.id} movie={movie} index={index} />\r\n      ))}\r\n    </MovieGridStyled>\r\n  );\r\n}\r\n\r\nexport default MovieGrid;\r\n","import styled from \"styled-components\";\r\nimport { FADE_IN } from \"../../../lib/defaultStyles\";\r\n\r\nexport const PaginationStyled = styled.nav`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  margin: 5vmin 0;\r\n  width: 100%;\r\n\r\n  a {\r\n    opacity: 0;\r\n    animation: ${FADE_IN} linear;\r\n  }\r\n\r\n  a,\r\n  button {\r\n    margin: 0 0.1rem;\r\n  }\r\n`;\r\n\r\nexport const PrevWrapper = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  flex: auto;\r\n`;\r\n\r\nexport const PageNumberWrapper = styled.ol`\r\n  display: flex;\r\n  align-items: center;\r\n  flex: none;\r\n`;\r\n\r\nexport const PageNumberStyled = styled.li`\r\n  /* a {\r\n    display: flex;\r\n    line-height: 1;\r\n    font-size: 0.8rem;\r\n    padding: 0.75vmin;\r\n\r\n    @media screen and (orientation: landscape), (min-width: 768px) {\r\n      & {\r\n        font-size: 0.9rem;\r\n      }\r\n    }\r\n  }\r\n\r\n  &.selected {\r\n    text-decoration: underline;\r\n  } */\r\n`;\r\n\r\nexport const NextWrapper = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  flex: auto;\r\n`;\r\n","export default function checkEnoughWidth() {\r\n  return (\r\n    window.matchMedia(\"(orientation: landscape)\").matches ||\r\n    window.innerWidth >= 567\r\n  );\r\n}\r\n","import React, { useState, useCallback, useEffect } from \"react\";\r\nimport {\r\n  MdNavigateBefore,\r\n  MdNavigateNext,\r\n  MdFirstPage,\r\n  MdLastPage,\r\n} from \"react-icons/md\";\r\nimport qs from \"qs\";\r\nimport {\r\n  PaginationStyled,\r\n  PrevWrapper,\r\n  PageNumberWrapper,\r\n  NextWrapper,\r\n} from \"./styles\";\r\nimport Button from \"../../common/Button\";\r\nimport useDebounce from \"../../../lib/useDebounce\";\r\nimport checkEnoughWidth from \"../../../lib/checkEnoughWidth\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nfunction getPageNumbers(pageIndex, lastPage, size) {\r\n  return [...Array(size).keys()]\r\n    .map((page) => page + 1 + size * pageIndex)\r\n    .filter((page) => page <= lastPage);\r\n}\r\n\r\nfunction getPageIndex(page, size) {\r\n  return parseInt((page - 1) / size);\r\n}\r\n\r\nfunction buildPageUrl(path, query, page) {\r\n  return `${path}?${qs.stringify({ ...query, page })}`;\r\n}\r\n\r\nfunction Pagination({ currentPage, lastPage, location, match }) {\r\n  const [size, setSize] = useState(10);\r\n  const [currentPageIndex, setCurrentPageIndex] = useState(\r\n    getPageIndex(currentPage, size)\r\n  );\r\n  const query = qs.parse(location.search, { ignoreQueryPrefix: true });\r\n  const { path } = match;\r\n  const lastPageIndex = getPageIndex(lastPage, size);\r\n  const hidePrev = currentPageIndex === 0;\r\n  const hideNext = currentPageIndex >= lastPageIndex;\r\n\r\n  const onClickFirst = useCallback(() => {\r\n    setCurrentPageIndex(0);\r\n  }, []);\r\n  const onClickPrev = useCallback(() => {\r\n    setCurrentPageIndex((state) => state - 1);\r\n  }, []);\r\n  const onClickNext = useCallback(() => {\r\n    setCurrentPageIndex((state) => state + 1);\r\n  }, []);\r\n  const onClickLast = useCallback(() => {\r\n    setCurrentPageIndex(lastPageIndex);\r\n  }, [lastPageIndex]);\r\n  const onResize = useCallback(() => {\r\n    const size = checkEnoughWidth() ? 10 : 5;\r\n    setSize(size);\r\n  }, []);\r\n  const [debouncedOnResize, timer] = useDebounce(onResize, 100);\r\n\r\n  useEffect(() => {\r\n    const size = checkEnoughWidth() ? 10 : 5;\r\n    setSize(size);\r\n    window.addEventListener(\"resize\", debouncedOnResize);\r\n    return () => {\r\n      window.removeEventListener(\"resize\", debouncedOnResize);\r\n      // eslint-disable-next-line react-hooks/exhaustive-deps\r\n      clearTimeout(timer.current);\r\n    };\r\n  }, [debouncedOnResize, timer]);\r\n\r\n  useEffect(() => {\r\n    setCurrentPageIndex(getPageIndex(currentPage, size));\r\n  }, [currentPage, size]);\r\n\r\n  return (\r\n    <PaginationStyled>\r\n      <PrevWrapper>\r\n        <Button\r\n          hidden={hidePrev}\r\n          size=\"1rem\"\r\n          variant=\"transparent circle\"\r\n          onClick={onClickFirst}\r\n        >\r\n          <MdFirstPage size=\"1.5rem\" />\r\n        </Button>\r\n        <Button\r\n          hidden={hidePrev}\r\n          size=\"1rem\"\r\n          variant=\"transparent circle\"\r\n          onClick={onClickPrev}\r\n        >\r\n          <MdNavigateBefore size=\"1.5rem\" />\r\n        </Button>\r\n      </PrevWrapper>\r\n      <PageNumberWrapper>\r\n        {getPageNumbers(currentPageIndex, lastPage, size).map(\r\n          (page) =>\r\n            page <= lastPage && (\r\n              <PageNumber\r\n                key={page}\r\n                selected={currentPage === page}\r\n                to={buildPageUrl(path, query, page)}\r\n                page={page}\r\n              />\r\n            )\r\n        )}\r\n      </PageNumberWrapper>\r\n      <NextWrapper>\r\n        <Button\r\n          hidden={hideNext}\r\n          size=\"1rem\"\r\n          variant=\"transparent circle\"\r\n          onClick={onClickNext}\r\n        >\r\n          <MdNavigateNext size=\"1.5rem\" />\r\n        </Button>\r\n        <Button\r\n          hidden={hideNext}\r\n          size=\"1rem\"\r\n          variant=\"transparent circle\"\r\n          onClick={onClickLast}\r\n        >\r\n          <MdLastPage size=\"1.5rem\" />\r\n        </Button>\r\n      </NextWrapper>\r\n    </PaginationStyled>\r\n  );\r\n}\r\n\r\nfunction PageNumber({ selected, to, page }) {\r\n  return (\r\n    // <PageNumberStyled className={currentPage === page && \"selected\"}>\r\n    //   <NavLink to={`?page=${page}`}>{page}</NavLink>\r\n    // </PageNumberStyled>\r\n    <li>\r\n      <Button\r\n        variant={`${selected ? \"outlined circle\" : \"transparent circle\"}`}\r\n        size=\"1rem\"\r\n        fontSize=\"0.75rem\"\r\n        to={to}\r\n        color=\"default\"\r\n      >\r\n        {page}\r\n      </Button>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default withRouter(Pagination);\r\n","import React from \"react\";\r\nimport MovieGrid from \"./MovieGrid\";\r\nimport Pagination from \"./Pagination\";\r\n\r\nfunction MoviesPageBody({ movies, currentPage, lastPage }) {\r\n  return (\r\n    <>\r\n      <MovieGrid movies={movies} />\r\n      <Pagination currentPage={currentPage} lastPage={lastPage} />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default MoviesPageBody;\r\n","import React, { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { clearMovies, getNowPlaying } from \"../../reducers/movies\";\r\nimport { setBackground } from \"../../reducers/background\";\r\nimport pickRandomMovie from \"../../lib/pickRandomMovie\";\r\nimport { isEmptyArray } from \"../../lib/isEmpty\";\r\nimport MoviesPageBody from \"../../components/MoviesPage\";\r\nimport Loading from \"../../components/common/Loading\";\r\nimport Error from \"../../components/common/Error\";\r\nimport initializeView from \"../../lib/initializeView\";\r\n\r\nfunction NowPlayingPageBodyContainer({ currentPage }) {\r\n  const dispatch = useDispatch();\r\n  const { nowPlaying, lastPage, error } = useSelector(({ movies }) => movies);\r\n  const backgroundPath = useSelector(({ background }) => background.path);\r\n  const loading = useSelector(\r\n    ({ loading }) => loading[\"movies/GET_NOW_PLAYING_REQUEST\"]\r\n  );\r\n\r\n  useEffect(() => {\r\n    initializeView();\r\n    dispatch(getNowPlaying(currentPage));\r\n    return () => {\r\n      dispatch(clearMovies(\"nowPlaying\"));\r\n    };\r\n  }, [currentPage, dispatch]);\r\n\r\n  useEffect(() => {\r\n    if (!nowPlaying || isEmptyArray(nowPlaying)) {\r\n      return;\r\n    }\r\n    const movie = pickRandomMovie(nowPlaying, backgroundPath);\r\n    dispatch(setBackground({ path: movie.backdrop_path, brightness: \"dark\" }));\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [nowPlaying, dispatch]);\r\n\r\n  if (error || isEmptyArray(nowPlaying)) return <Error />;\r\n  if (loading) return <Loading />;\r\n  if (!nowPlaying) return null;\r\n\r\n  return (\r\n    <MoviesPageBody\r\n      movies={nowPlaying}\r\n      currentPage={currentPage}\r\n      lastPage={lastPage}\r\n    />\r\n  );\r\n}\r\n\r\nexport default NowPlayingPageBodyContainer;\r\n","import React from \"react\";\r\nimport qs from \"qs\";\r\nimport NowPlayingPageBodyContainer from \"../containers/MoviesPage/NowPlayingPageBodyContainer\";\r\n\r\nfunction NowPlayingPage({ location }) {\r\n  const { page: currentPage } = qs.parse(location.search, {\r\n    ignoreQueryPrefix: true,\r\n  });\r\n  return (\r\n    <NowPlayingPageBodyContainer currentPage={parseInt(currentPage || 1)} />\r\n  );\r\n}\r\n\r\nexport default NowPlayingPage;\r\n","import React, { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { clearMovies, getPopular } from \"../../reducers/movies\";\r\nimport { setBackground } from \"../../reducers/background\";\r\nimport pickRandomMovie from \"../../lib/pickRandomMovie\";\r\nimport { isEmptyArray } from \"../../lib/isEmpty\";\r\nimport MoviesPageBody from \"../../components/MoviesPage\";\r\nimport Loading from \"../../components/common/Loading\";\r\nimport Error from \"../../components/common/Error\";\r\nimport initializeView from \"../../lib/initializeView\";\r\n\r\nfunction PopularPageBodyContainer({ currentPage }) {\r\n  const dispatch = useDispatch();\r\n  const { popular, lastPage, error } = useSelector(({ movies }) => movies);\r\n  const backgroundPath = useSelector(({ background }) => background.path);\r\n  const loading = useSelector(\r\n    ({ loading }) => loading[\"movies/GET_POPULAR_REQUEST\"]\r\n  );\r\n\r\n  useEffect(() => {\r\n    initializeView();\r\n    dispatch(getPopular(currentPage));\r\n    return () => dispatch(clearMovies(\"popular\"));\r\n  }, [currentPage, dispatch]);\r\n\r\n  useEffect(() => {\r\n    if (!popular || isEmptyArray(popular)) {\r\n      return;\r\n    }\r\n    const movie = pickRandomMovie(popular, backgroundPath);\r\n    dispatch(setBackground({ path: movie.backdrop_path, brightness: \"dark\" }));\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [popular, dispatch]);\r\n\r\n  if (error || isEmptyArray(popular)) return <Error />;\r\n  if (loading) return <Loading />;\r\n  if (!popular) return null;\r\n\r\n  return (\r\n    <MoviesPageBody\r\n      movies={popular}\r\n      currentPage={currentPage}\r\n      lastPage={lastPage}\r\n    />\r\n  );\r\n}\r\n\r\nexport default PopularPageBodyContainer;\r\n","import React from \"react\";\r\nimport qs from \"qs\";\r\nimport PopularPageBodyContainer from \"../containers/MoviesPage/PopularPageBodyContainer\";\r\n\r\nfunction PopularPage({ location }) {\r\n  const { page: currentPage } = qs.parse(location.search, {\r\n    ignoreQueryPrefix: true,\r\n  });\r\n  return <PopularPageBodyContainer currentPage={parseInt(currentPage || 1)} />;\r\n}\r\n\r\nexport default PopularPage;\r\n","import React, { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { clearMovies, getTopRated } from \"../../reducers/movies\";\r\nimport { setBackground } from \"../../reducers/background\";\r\nimport pickRandomMovie from \"../../lib/pickRandomMovie\";\r\nimport { isEmptyArray } from \"../../lib/isEmpty\";\r\nimport MoviesPageBody from \"../../components/MoviesPage\";\r\nimport Loading from \"../../components/common/Loading\";\r\nimport Error from \"../../components/common/Error\";\r\nimport initializeView from \"../../lib/initializeView\";\r\n\r\nfunction TopRatedPageBodyContainer({ currentPage }) {\r\n  const dispatch = useDispatch();\r\n  const { topRated, lastPage, error } = useSelector(({ movies }) => movies);\r\n  const backgroundPath = useSelector(({ background }) => background.path);\r\n  const loading = useSelector(\r\n    ({ loading }) => loading[\"movies/GET_TOP_RATED_REQUEST\"]\r\n  );\r\n\r\n  useEffect(() => {\r\n    initializeView();\r\n    dispatch(getTopRated(currentPage));\r\n    return () => dispatch(clearMovies(\"topRated\"));\r\n  }, [currentPage, dispatch]);\r\n\r\n  useEffect(() => {\r\n    if (!topRated || isEmptyArray(topRated)) {\r\n      return;\r\n    }\r\n    const movie = pickRandomMovie(topRated, backgroundPath);\r\n    dispatch(setBackground({ path: movie.backdrop_path, brightness: \"dark\" }));\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [topRated, dispatch]);\r\n\r\n  if (error || isEmptyArray(topRated)) return <Error />;\r\n  if (loading) return <Loading />;\r\n  if (!topRated) return null;\r\n\r\n  return (\r\n    <MoviesPageBody\r\n      movies={topRated}\r\n      currentPage={currentPage}\r\n      lastPage={lastPage}\r\n    />\r\n  );\r\n}\r\n\r\nexport default TopRatedPageBodyContainer;\r\n","import React from \"react\";\r\nimport qs from \"qs\";\r\nimport TopRatedPageBodyContainer from \"../containers/MoviesPage/TopRatedPageBodyContainer\";\r\n\r\nfunction TopRatedPage({ location }) {\r\n  const { page: currentPage } = qs.parse(location.search, {\r\n    ignoreQueryPrefix: true,\r\n  });\r\n  return <TopRatedPageBodyContainer currentPage={parseInt(currentPage || 1)} />;\r\n}\r\n\r\nexport default TopRatedPage;\r\n","import React, { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { clearMovies, getUpcoming } from \"../../reducers/movies\";\r\nimport { setBackground } from \"../../reducers/background\";\r\nimport pickRandomMovie from \"../../lib/pickRandomMovie\";\r\nimport { isEmptyArray } from \"../../lib/isEmpty\";\r\nimport MoviesPageBody from \"../../components/MoviesPage\";\r\nimport Loading from \"../../components/common/Loading\";\r\nimport Error from \"../../components/common/Error\";\r\nimport initializeView from \"../../lib/initializeView\";\r\n\r\nfunction UpcomingPageBodyContainer({ currentPage }) {\r\n  const dispatch = useDispatch();\r\n  const { upcoming, lastPage, error } = useSelector(({ movies }) => movies);\r\n  const backgroundPath = useSelector(({ background }) => background.path);\r\n  const loading = useSelector(\r\n    ({ loading }) => loading[\"movies/GET_UPCOMING_REQUEST\"]\r\n  );\r\n\r\n  useEffect(() => {\r\n    initializeView();\r\n    dispatch(getUpcoming(currentPage));\r\n    return () => dispatch(clearMovies(\"upcoming\"));\r\n  }, [currentPage, dispatch]);\r\n\r\n  useEffect(() => {\r\n    if (!upcoming || isEmptyArray(upcoming)) {\r\n      return;\r\n    }\r\n    const movie = pickRandomMovie(upcoming, backgroundPath);\r\n    dispatch(setBackground({ path: movie.backdrop_path, brightness: \"dark\" }));\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [upcoming, dispatch]);\r\n\r\n  if (error || isEmptyArray(upcoming)) return <Error />;\r\n  if (loading) return <Loading />;\r\n  if (!upcoming) return null;\r\n\r\n  return (\r\n    <MoviesPageBody\r\n      movies={upcoming}\r\n      currentPage={currentPage}\r\n      lastPage={lastPage}\r\n    />\r\n  );\r\n}\r\n\r\nexport default UpcomingPageBodyContainer;\r\n","import React from \"react\";\r\nimport qs from \"qs\";\r\nimport UpcomingPageBodyContainer from \"../containers/MoviesPage/UpcomingPageBodyContainer\";\r\n\r\nfunction UpcomingPage({ location }) {\r\n  const { page: currentPage } = qs.parse(location.search, {\r\n    ignoreQueryPrefix: true,\r\n  });\r\n  return <UpcomingPageBodyContainer currentPage={parseInt(currentPage || 1)} />;\r\n}\r\n\r\nexport default UpcomingPage;\r\n","import React, { useEffect } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { setBrightness } from \"../reducers/background\";\r\n\r\nfunction AboutPage(props) {\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(setBrightness(\"dark\"));\r\n  }, [dispatch]);\r\n\r\n  return <div>About</div>;\r\n}\r\n\r\nexport default AboutPage;\r\n","import styled from \"styled-components\";\r\n\r\nexport const FullscreenBackgroundStyled = styled.img`\r\n  z-index: -1;\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100vh;\r\n  object-fit: cover;\r\n  opacity: 0;\r\n  filter: brightness(0.25);\r\n  transition: opacity 0.25s linear, filter 0.25s linear;\r\n\r\n  &.dark {\r\n    filter: brightness(0.25);\r\n  }\r\n\r\n  &.normal {\r\n    filter: brightness(0.5);\r\n  }\r\n\r\n  &.bright {\r\n    filter: brightness(0.75);\r\n  }\r\n\r\n  &.loaded {\r\n    opacity: 1;\r\n  }\r\n`;\r\n","import React, { useState, useCallback, useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { FullscreenBackgroundStyled } from \"./styles\";\r\nimport { buildImageUrl } from \"../../lib/TMDB_API\";\r\nimport { setLoaded } from \"../../reducers/background\";\r\n\r\nfunction FullscreenBackground() {\r\n  const dispatch = useDispatch();\r\n  const [currentPath, setCurrentPath] = useState(null);\r\n  const [currentBrightness, setCurrentBrightness] = useState(null);\r\n  const { path, brightness = \"dark\", loaded } = useSelector(\r\n    ({ background }) => background\r\n  );\r\n\r\n  const onLoad = useCallback(() => {\r\n    dispatch(setLoaded(true));\r\n  }, [dispatch]);\r\n\r\n  useEffect(() => {\r\n    if (!currentPath) {\r\n      setCurrentPath(path);\r\n      setCurrentBrightness(brightness);\r\n      return;\r\n    }\r\n    if (path === currentPath) {\r\n      setCurrentBrightness(brightness);\r\n      return;\r\n    }\r\n    setTimeout(() => {\r\n      setCurrentPath(path);\r\n      setCurrentBrightness(brightness);\r\n    }, 250);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [path, brightness]);\r\n\r\n  if (!currentPath) return null;\r\n\r\n  return (\r\n    <FullscreenBackgroundStyled\r\n      className={`${currentBrightness} ${loaded && \"loaded\"}`}\r\n      src={buildImageUrl(currentPath, \"original\")}\r\n      onLoad={onLoad}\r\n    />\r\n  );\r\n}\r\n\r\nexport default FullscreenBackground;\r\n","import styled from \"styled-components\";\r\nimport {\r\n  HEADER_HEIGHT,\r\n  DEFAULT_HORIZONTAL_MARGIN,\r\n  TRANSITION_BACKGROUND_COLOR,\r\n} from \"../../lib/defaultStyles\";\r\n\r\nexport const HeaderStyled = styled.header`\r\n  z-index: 2;\r\n  width: 100%;\r\n  height: ${HEADER_HEIGHT};\r\n  position: absolute;\r\n  /* position: fixed; */\r\n  /* text-shadow: 0 0 5px black; */\r\n  /* color: white; */\r\n  /* background: black; */\r\n  transition: transform 0.25s ease, ${TRANSITION_BACKGROUND_COLOR};\r\n\r\n  /* &.hidden {\r\n    transform: translateY(-100%);\r\n  } */\r\n\r\n  /* &.dark {\r\n    background: rgba(0, 0, 0, 0.75);\r\n    box-shadow: 0 0 1px black;\r\n  } */\r\n`;\r\n\r\nexport const HeaderWrapper = styled.div`\r\n  width: max(\r\n    calc(1280px - ${DEFAULT_HORIZONTAL_MARGIN} * 2),\r\n    calc(60% - ${DEFAULT_HORIZONTAL_MARGIN} * 2)\r\n  );\r\n  height: 100%;\r\n  margin: 0 auto;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n\r\n  @media screen and (max-width: 1280px) {\r\n    width: auto;\r\n    margin: 0 ${DEFAULT_HORIZONTAL_MARGIN};\r\n  }\r\n`;\r\n\r\nexport const Spacer = styled.div`\r\n  height: ${HEADER_HEIGHT};\r\n`;\r\n","import styled from \"styled-components\";\r\n\r\nexport const LogoStyled = styled.h1`\r\n  font-size: 2.25rem;\r\n  letter-spacing: 2px;\r\n  text-transform: uppercase;\r\n`;\r\n","import React from \"react\";\r\nimport { LogoStyled } from \"./styles\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Logo(props) {\r\n  return (\r\n    <LogoStyled>\r\n      <Link to=\"/\">films</Link>\r\n    </LogoStyled>\r\n  );\r\n}\r\n\r\nexport default Logo;\r\n","const sitemap = [\r\n  {\r\n    caption: \"\",\r\n    to: \"/\",\r\n  },\r\n  {\r\n    caption: \"\",\r\n    subnavs: [\r\n      {\r\n        caption: \" \",\r\n        to: \"/movies/now_playing\",\r\n      },\r\n      {\r\n        caption: \"\",\r\n        to: \"/movies/popular\",\r\n      },\r\n      {\r\n        caption: \" \",\r\n        to: \"/movies/top_rated\",\r\n      },\r\n      {\r\n        caption: \" \",\r\n        to: \"/movies/upcoming\",\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    caption: \" \",\r\n    subnavs: [\r\n      {\r\n        caption: \"\",\r\n        to: \"/my_movies/like\",\r\n      },\r\n      {\r\n        caption: \"\",\r\n        to: \"/my_movies/watchlist\",\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    caption: \"\",\r\n    to: \"/about\",\r\n  },\r\n];\r\n\r\nexport default sitemap;\r\n","import styled, { css } from \"styled-components\";\r\nimport {\r\n  TRANSITION_BACKGROUND_COLOR,\r\n  TRANSITION_HEIGHT,\r\n  TRANSITION_COLOR,\r\n} from \"../../../lib/defaultStyles\";\r\nimport color from \"../../../lib/color\";\r\n\r\nexport const CaptionStyle = css`\r\n  font-weight: 100;\r\n  display: flex;\r\n  cursor: pointer;\r\n  box-sizing: border-box;\r\n  justify-content: center;\r\n  align-items: center;\r\n  font-size: 1.5rem;\r\n  letter-spacing: 1px;\r\n  transition: ${TRANSITION_BACKGROUND_COLOR};\r\n\r\n  a {\r\n    box-sizing: border-box;\r\n    width: 100%;\r\n    height: 100%;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n  }\r\n\r\n  &:hover {\r\n    background-color: ${color.default.background};\r\n  }\r\n`;\r\n\r\nexport const NavItemWrapper = styled.ul`\r\n  display: flex;\r\n`;\r\n\r\nexport const NavItemStyled = styled.li`\r\n  position: relative;\r\n  cursor: pointer;\r\n`;\r\n\r\nexport const NavItemCaptionStyled = styled.h2`\r\n  ${CaptionStyle}\r\n`;\r\n\r\nexport const SubnavItemWrapper = styled.ul`\r\n  min-width: 100%;\r\n  height: 0;\r\n  overflow-y: hidden;\r\n  transition: ${TRANSITION_HEIGHT}, ${TRANSITION_COLOR};\r\n\r\n  &.visible {\r\n    height: ${(props) => `${props.itemCount * 2.5}rem`};\r\n  }\r\n`;\r\n\r\nexport const SubnavItemStyled = styled.li``;\r\n\r\nexport const SubnavItemCaptionStyled = styled.h3`\r\n  ${CaptionStyle}\r\n  font-size: 1.25rem;\r\n  height: 2rem;\r\n`;\r\n","import styled from \"styled-components\";\r\nimport {\r\n  NavItemCaptionStyled,\r\n  NavItemStyled,\r\n  SubnavItemStyled,\r\n  SubnavItemWrapper,\r\n  SubnavItemCaptionStyled,\r\n} from \"../../Nav/styles\";\r\n\r\nexport const Fullscreen = styled.div`\r\n  z-index: 1;\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(0, 0, 0, 0.3);\r\n  display: none;\r\n\r\n  &.visible {\r\n    display: block;\r\n  }\r\n`;\r\n\r\nexport const SideBarStyled = styled.div`\r\n  z-index: 2;\r\n  position: fixed;\r\n  top: 0;\r\n  right: 0;\r\n  width: 15rem;\r\n  height: 100%;\r\n  background-color: rgb(50, 50, 50);\r\n  transform: translateX(100%);\r\n  transition: transform 0.5s ease;\r\n  color: white;\r\n  overflow-y: auto;\r\n\r\n  &.visible {\r\n    transform: translateX(0);\r\n  }\r\n`;\r\n\r\nexport const Closer = styled.header`\r\n  display: flex;\r\n  flex-direction: row-reverse;\r\n  padding: 0.5rem;\r\n`;\r\n\r\nexport const VerticalNavItemWrapper = styled.ul`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nexport const VerticalNavItemStyled = styled(NavItemStyled)`\r\n  width: 100%;\r\n\r\n  & + & {\r\n    border-top: 1px solid gray;\r\n  }\r\n`;\r\n\r\nexport const VerticalNavItemCaptionStyled = styled(NavItemCaptionStyled)`\r\n  height: 4rem;\r\n  justify-content: ${(props) => (props.dropdown ? \"space-between\" : \"center\")};\r\n  padding: ${(props) => (props.dropdown ? \"0 1rem\" : 0)};\r\n\r\n  a {\r\n    padding: 0 1rem;\r\n    justify-content: flex-end;\r\n  }\r\n\r\n  .arrow {\r\n    transition: transform 0.25s ease;\r\n\r\n    &.selected {\r\n      transform: rotateX(180deg);\r\n    }\r\n  }\r\n`;\r\n\r\nexport const VerticalSubnavItemWrapper = styled(SubnavItemWrapper)`\r\n  &.visible {\r\n    height: ${(props) => `${props.itemCount * 3}rem`};\r\n  }\r\n`;\r\n\r\nexport const VerticalSubnavItemStyled = styled(SubnavItemStyled)``;\r\n\r\nexport const VerticalSubnavItemCaptionStyled = styled(SubnavItemCaptionStyled)`\r\n  width: 100%;\r\n  height: 3rem;\r\n\r\n  a {\r\n    padding: 0 1rem;\r\n    justify-content: flex-end;\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { MdArrowDropDown } from \"react-icons/md\";\r\nimport { VerticalNavItemCaptionStyled } from \"./styles\";\r\n\r\nfunction NavItemCaption({ caption, to, dropdown, selected, onClick }) {\r\n  return (\r\n    <VerticalNavItemCaptionStyled dropdown={dropdown} onClick={onClick}>\r\n      {dropdown ? (\r\n        <>\r\n          <span className={`arrow ${selected && \"selected\"}`}>\r\n            <MdArrowDropDown />\r\n          </span>\r\n          <span>{caption}</span>\r\n        </>\r\n      ) : (\r\n        <Link to={to}>{caption}</Link>\r\n      )}\r\n    </VerticalNavItemCaptionStyled>\r\n  );\r\n}\r\n\r\nexport default NavItemCaption;\r\n","import React from \"react\";\r\nimport { VerticalSubnavItemCaptionStyled } from \"./styles\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction SubnavItemCaption({ caption, to }) {\r\n  return (\r\n    <VerticalSubnavItemCaptionStyled>\r\n      <Link to={to}>{caption}</Link>\r\n    </VerticalSubnavItemCaptionStyled>\r\n  );\r\n}\r\n\r\nexport default SubnavItemCaption;\r\n","import React, { useCallback } from \"react\";\r\nimport {\r\n  VerticalNavItemStyled,\r\n  VerticalSubnavItemWrapper,\r\n  VerticalSubnavItemStyled,\r\n} from \"./styles\";\r\nimport NavItemCaption from \"./NavItemCaption\";\r\nimport SubnavItemCaption from \"./SubnavItemCaption\";\r\n\r\nfunction DropdownNavItem({\r\n  index,\r\n  caption,\r\n  subnavs,\r\n  selected,\r\n  setSelected,\r\n  handleMenuClick,\r\n}) {\r\n  const handleSelected = useCallback(() => {\r\n    if (selected) {\r\n      setSelected(null);\r\n    } else {\r\n      setSelected(index);\r\n    }\r\n  }, [selected, setSelected, index]);\r\n\r\n  const handleSubnavClick = useCallback(() => {\r\n    handleMenuClick();\r\n  }, [handleMenuClick]);\r\n\r\n  return (\r\n    <VerticalNavItemStyled>\r\n      <NavItemCaption\r\n        caption={caption}\r\n        dropdown\r\n        selected={selected}\r\n        onClick={handleSelected}\r\n      />\r\n      <VerticalSubnavItemWrapper\r\n        className={selected && \"visible\"}\r\n        onClick={handleSubnavClick}\r\n        itemCount={subnavs.length}\r\n      >\r\n        {subnavs.map(({ caption, to }, index) => (\r\n          <SubnavItem key={index} caption={caption} to={to} />\r\n        ))}\r\n      </VerticalSubnavItemWrapper>\r\n    </VerticalNavItemStyled>\r\n  );\r\n}\r\n\r\nfunction SubnavItem({ caption, to }) {\r\n  return (\r\n    <VerticalSubnavItemStyled>\r\n      <SubnavItemCaption caption={caption} to={to} />\r\n    </VerticalSubnavItemStyled>\r\n  );\r\n}\r\n\r\nexport default React.memo(DropdownNavItem);\r\n","import React from \"react\";\r\nimport { VerticalNavItemStyled } from \"./styles\";\r\nimport NavItemCaption from \"./NavItemCaption\";\r\n\r\nfunction ButtonNavItem({ caption, to, handleMenuClick }) {\r\n  return (\r\n    <VerticalNavItemStyled onClick={handleMenuClick}>\r\n      <NavItemCaption to={to} caption={caption} />\r\n    </VerticalNavItemStyled>\r\n  );\r\n}\r\n\r\nexport default ButtonNavItem;\r\n","import React, { useState, useCallback } from \"react\";\r\nimport { MdClose } from \"react-icons/md\";\r\nimport sitemap from \"../../../../lib/sitemap\";\r\nimport {\r\n  SideBarStyled,\r\n  Closer,\r\n  VerticalNavItemWrapper,\r\n  Fullscreen,\r\n} from \"./styles\";\r\nimport Button from \"../../../common/Button\";\r\nimport DropdownMenu from \"./DropdownNavItem\";\r\nimport ButtonNavItem from \"./ButtonNavItem\";\r\n\r\nfunction SideBar({ visible, setNavHidden }) {\r\n  const [selected, setSelected] = useState(null);\r\n\r\n  const handleMenuClick = useCallback(() => {\r\n    setSelected(null);\r\n    setNavHidden();\r\n  }, [setNavHidden]);\r\n\r\n  return (\r\n    <>\r\n      <Fullscreen\r\n        className={visible && \"visible\"}\r\n        onClick={handleMenuClick}\r\n        onScroll={(e) => {\r\n          e.preventDefault();\r\n          e.stopPropagation();\r\n        }}\r\n      />\r\n      <SideBarStyled className={visible && \"visible\"}>\r\n        <Closer>\r\n          <Button\r\n            variant=\"transparent circle\"\r\n            size=\"1.75rem\"\r\n            onClick={handleMenuClick}\r\n          >\r\n            <MdClose size=\"2rem\" />\r\n          </Button>\r\n        </Closer>\r\n        <VerticalNavItemWrapper>\r\n          {sitemap.map(({ caption, to, subnavs }, index) =>\r\n            subnavs ? (\r\n              <DropdownMenu\r\n                key={index}\r\n                index={index}\r\n                selected={selected === index}\r\n                subnavs={subnavs}\r\n                caption={caption}\r\n                setSelected={setSelected}\r\n                handleMenuClick={handleMenuClick}\r\n              />\r\n            ) : (\r\n              <ButtonNavItem\r\n                key={index}\r\n                caption={caption}\r\n                to={to}\r\n                handleMenuClick={handleMenuClick}\r\n              />\r\n            )\r\n          )}\r\n        </VerticalNavItemWrapper>\r\n      </SideBarStyled>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default SideBar;\r\n","import styled from \"styled-components\";\r\n\r\nexport const VerticalNavStyled = styled.nav`\r\n  position: relative;\r\n`;\r\n\r\nexport const VerticalNavButtonsStyled = styled.div`\r\n  display: flex;\r\n  /* transform: translateX(0.5rem); */\r\n`;\r\n","import { createAction, handleActions } from \"redux-actions\";\r\nimport { takeLatest } from \"redux-saga/effects\";\r\nimport * as TMDB_API from \"../lib/TMDB_API\";\r\nimport createAsyncAction from \"../lib/createAsyncAction\";\r\n\r\nconst INITIALIZE_STATE = \"search/INITIALIZE_STATE\";\r\nconst SHOW_SEARCH_BAR = \"search/SHOW_SEARCH_BAR\";\r\nconst HIDE_SEARCH_BAR = \"search/HIDE_SEARCH_BAR\";\r\nconst SEARCH_MOVIES = createAsyncAction(\r\n  \"search/SEARCH_MOVIES\",\r\n  TMDB_API.searchMovies\r\n);\r\n\r\nexport const initializeState = createAction(INITIALIZE_STATE);\r\nexport const showSearchBar = createAction(SHOW_SEARCH_BAR);\r\nexport const hideSearchBar = createAction(HIDE_SEARCH_BAR);\r\nexport const searchMovies = createAction(\r\n  SEARCH_MOVIES.REQUEST,\r\n  ({ query, page }) => ({\r\n    query,\r\n    page,\r\n  })\r\n);\r\n\r\nexport function* searchSaga() {\r\n  yield takeLatest(SEARCH_MOVIES.REQUEST, SEARCH_MOVIES.SAGA);\r\n}\r\n\r\nconst initialState = {\r\n  showSearchBar: false,\r\n  movies: null,\r\n  lastPage: null,\r\n  error: null,\r\n  meta: null,\r\n};\r\n\r\nconst search = handleActions(\r\n  {\r\n    [INITIALIZE_STATE]: () => initialState,\r\n    [SHOW_SEARCH_BAR]: (state) => ({\r\n      ...state,\r\n      showSearchBar: true,\r\n    }),\r\n    [HIDE_SEARCH_BAR]: (state) => ({\r\n      ...state,\r\n      showSearchBar: false,\r\n    }),\r\n    [SEARCH_MOVIES.REQUEST]: (state) => ({\r\n      ...state,\r\n      showSearchBar: false,\r\n      error: null,\r\n    }),\r\n    [SEARCH_MOVIES.SUCCESS]: (\r\n      state,\r\n      { payload: { results: movies, total_pages: lastPage }, meta }\r\n    ) => ({ ...state, movies, lastPage, meta }),\r\n    [SEARCH_MOVIES.FAILURE]: (state, { payload: error }) => ({\r\n      ...state,\r\n      error,\r\n    }),\r\n  },\r\n  initialState\r\n);\r\n\r\nexport default search;\r\n","import React, { useCallback } from \"react\";\r\nimport { MdSearch } from \"react-icons/md\";\r\nimport Button from \"../common/Button\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { showSearchBar } from \"../../reducers/search\";\r\n\r\nfunction SearchButton() {\r\n  const dispatch = useDispatch();\r\n\r\n  const onClick = useCallback(() => {\r\n    dispatch(showSearchBar());\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <Button variant=\"transparent circle\" size=\"1.75rem\" onClick={onClick}>\r\n      <MdSearch size=\"2rem\" />\r\n    </Button>\r\n  );\r\n}\r\n\r\nexport default SearchButton;\r\n","import React, { useState, useCallback } from \"react\";\r\nimport { MdMenu } from \"react-icons/md\";\r\nimport SideBar from \"./SideBar\";\r\nimport Button from \"../../common/Button\";\r\nimport { VerticalNavStyled, VerticalNavButtonsStyled } from \"./styles\";\r\nimport SearchButton from \"../../Search/SearchButton\";\r\n\r\nfunction VerticalNav() {\r\n  const [visible, setVisible] = useState(false);\r\n\r\n  const setVisibleTrue = useCallback(() => {\r\n    setVisible(true);\r\n  }, []);\r\n  const setVisibleFalse = useCallback(() => {\r\n    setVisible(false);\r\n  }, []);\r\n\r\n  return (\r\n    <VerticalNavStyled>\r\n      <VerticalNavButtonsStyled>\r\n        <SearchButton />\r\n        <Button\r\n          variant=\"transparent circle\"\r\n          size=\"1.75rem\"\r\n          onClick={setVisibleTrue}\r\n        >\r\n          <MdMenu size=\"2rem\" />\r\n        </Button>\r\n      </VerticalNavButtonsStyled>\r\n      <SideBar visible={visible} setNavHidden={setVisibleFalse} />\r\n    </VerticalNavStyled>\r\n  );\r\n}\r\n\r\nexport default VerticalNav;\r\n","import styled from \"styled-components\";\r\nimport { TRANSITION_BACKGROUND_COLOR } from \"../../../lib/defaultStyles\";\r\nimport color from \"../../../lib/color\";\r\n\r\nexport const AlternativeHorizontalNavStyled = styled.nav`\r\n  display: flex;\r\n  align-items: center;\r\n  height: 100%;\r\n\r\n  ul {\r\n    display: flex;\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    height: 100%;\r\n    transition: max-width 0.5s ease;\r\n  }\r\n\r\n  li {\r\n    display: flex;\r\n    height: 100%;\r\n  }\r\n\r\n  span,\r\n  a {\r\n    cursor: pointer;\r\n    display: flex;\r\n    align-items: center;\r\n    height: 100%;\r\n    transition: ${TRANSITION_BACKGROUND_COLOR};\r\n    padding: 0 1rem;\r\n\r\n    &:hover {\r\n      background: ${color.default.background};\r\n    }\r\n  }\r\n\r\n  .arrow {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    transform: rotateZ(-90deg);\r\n    transition: transform 0.25s ease;\r\n\r\n    &.selected {\r\n      transform: rotateZ(90deg);\r\n    }\r\n  }\r\n\r\n  button {\r\n    box-sizing: content-box !important;\r\n    border-radius: 0 !important;\r\n    border: none !important;\r\n    padding: 0 1rem !important;\r\n    margin: 0 !important;\r\n    height: 100% !important;\r\n  }\r\n`;\r\n\r\nexport const AlternativeNavItemWrapper = styled.ul`\r\n  font-size: 1.25rem;\r\n`;\r\n\r\nexport const AlternativeNavItemStyled = styled.li``;\r\n\r\nexport const AlternativeSubnavIemWrapper = styled.ul`\r\n  font-size: 1rem;\r\n  font-weight: 300;\r\n`;\r\n\r\nexport const AlternativeSubnavItemStyled = styled.li``;\r\n","import React, { useRef } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { MdArrowDropDown } from \"react-icons/md\";\r\nimport {\r\n  AlternativeNavItemStyled,\r\n  AlternativeSubnavIemWrapper,\r\n  AlternativeSubnavItemStyled,\r\n} from \"./styles\";\r\n\r\nfunction getChildrenWidthSum(element) {\r\n  let widthSum = 0;\r\n  for (var i = 0; i < element.children.length; i++) {\r\n    widthSum += element.children[i].clientWidth;\r\n  }\r\n  return `${widthSum}px`;\r\n}\r\n\r\nfunction FlexibleNavItem({ subnavs, caption, onClick, selected }) {\r\n  const subnavWrapperRef = useRef(null);\r\n\r\n  return (\r\n    <AlternativeNavItemStyled onClick={onClick}>\r\n      <span>\r\n        {caption}\r\n        <div className={`arrow ${selected ? \"selected\" : \"\"}`}>\r\n          <MdArrowDropDown size=\"1.5rem\" />\r\n        </div>\r\n      </span>\r\n      <AlternativeSubnavIemWrapper\r\n        ref={subnavWrapperRef}\r\n        style={{\r\n          maxWidth: selected\r\n            ? getChildrenWidthSum(subnavWrapperRef.current)\r\n            : \"0\",\r\n        }}\r\n      >\r\n        {subnavs.map((subnav) => (\r\n          <AlternativeSubnavItemStyled key={subnav.caption}>\r\n            <Link to={subnav.to}>{subnav.caption}</Link>\r\n          </AlternativeSubnavItemStyled>\r\n        ))}\r\n      </AlternativeSubnavIemWrapper>\r\n    </AlternativeNavItemStyled>\r\n  );\r\n}\r\n\r\nexport default FlexibleNavItem;\r\n","import React from \"react\";\r\nimport { AlternativeNavItemStyled } from \"./styles\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction ButtonNavItem({ caption, to }) {\r\n  return (\r\n    <AlternativeNavItemStyled>\r\n      <Link to={to}>{caption}</Link>\r\n    </AlternativeNavItemStyled>\r\n  );\r\n}\r\n\r\nexport default ButtonNavItem;\r\n","import React, { useState, useCallback } from \"react\";\r\nimport {\r\n  AlternativeHorizontalNavStyled,\r\n  AlternativeNavItemWrapper,\r\n} from \"./styles\";\r\nimport SearchButton from \"../../Search/SearchButton\";\r\nimport sitemap from \"../../../lib/sitemap\";\r\nimport FlexibleNavItem from \"./FlexibleNavItem\";\r\nimport ButtonNavItem from \"./ButtonNavItem\";\r\n\r\nfunction AlternativeHorizontalNav() {\r\n  const [selected, setSelected] = useState(null);\r\n\r\n  const onClick = useCallback((index) => {\r\n    setSelected((state) => (state === index ? null : index));\r\n  }, []);\r\n\r\n  return (\r\n    <AlternativeHorizontalNavStyled>\r\n      <SearchButton />\r\n      <AlternativeNavItemWrapper>\r\n        {sitemap.map(({ caption, to, subnavs }, index) =>\r\n          subnavs ? (\r\n            <FlexibleNavItem\r\n              key={index}\r\n              caption={caption}\r\n              subnavs={subnavs}\r\n              selected={index === selected}\r\n              onClick={() => onClick(index)}\r\n            />\r\n          ) : (\r\n            <ButtonNavItem key={index} caption={caption} to={to} />\r\n          )\r\n        )}\r\n      </AlternativeNavItemWrapper>\r\n    </AlternativeHorizontalNavStyled>\r\n  );\r\n}\r\n\r\nexport default AlternativeHorizontalNav;\r\n","import React, { useState, useCallback, useEffect } from \"react\";\r\nimport { HeaderStyled, Spacer, HeaderWrapper } from \"./styles\";\r\nimport Logo from \"./Logo\";\r\nimport VerticalNav from \"./VerticalNav\";\r\nimport AlternativeHorizontalNav from \"./AlternativeHorizontalNav\";\r\n\r\nexport function initializeHeader() {\r\n  // document.getElementById(\"header\").classList.remove(\"hidden\", \"dark\");\r\n}\r\n\r\nfunction Header() {\r\n  // const [hidden, setHidden] = useState(false);\r\n  // const [dark, setDark] = useState(false);\r\n  // const lastScrollTop = useRef(0);\r\n\r\n  // const onScroll = useCallback(() => {\r\n  //   const scrollbar = document.getElementById(\"scrollbar\");\r\n  //   const header = document.getElementById(\"header\");\r\n  //   if (scrollbar && header && scrollbar.scrollTop) {\r\n  //     if (\r\n  //       scrollbar.scrollTop > lastScrollTop.current &&\r\n  //       scrollbar.scrollTop > header.clientHeight\r\n  //     ) {\r\n  //       setHidden(true);\r\n  //       setDark(false);\r\n  //     } else {\r\n  //       setHidden(false);\r\n  //       if (scrollbar.scrollTop <= header.clientHeight) {\r\n  //         setDark(false);\r\n  //       } else {\r\n  //         setDark(true);\r\n  //       }\r\n  //     }\r\n  //   }\r\n  //   lastScrollTop.current = scrollbar.scrollTop || 0;\r\n  // }, []);\r\n  // const throttledOnScroll = useCallback(throttle(onScroll, 33), []);\r\n\r\n  // useEffect(() => {\r\n  //   const scrollbar = document.getElementById(\"scrollbar\");\r\n  //   scrollbar.addEventListener(\"scroll\", throttledOnScroll);\r\n  //   return () => {\r\n  //     scrollbar.removeEventListener(\"scroll\", throttledOnScroll);\r\n  //   };\r\n  // }, [throttledOnScroll]);\r\n\r\n  const [showVerticalNav, setShowVerticalNav] = useState(false);\r\n\r\n  const onResize = useCallback(() => {\r\n    setShowVerticalNav(window.innerWidth < 1024);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    onResize();\r\n    window.addEventListener(\"resize\", onResize);\r\n    return () => {\r\n      window.removeEventListener(\"resize\", onResize);\r\n    };\r\n  }, [onResize]);\r\n\r\n  return (\r\n    <>\r\n      <HeaderStyled\r\n        id=\"header\"\r\n        // className={`${hidden && \"hidden\"} ${dark && \"dark\"}`}\r\n      >\r\n        <HeaderWrapper>\r\n          <Logo />\r\n          {showVerticalNav ? (\r\n            <VerticalNav />\r\n          ) : (\r\n            // <HorizontalNav />\r\n            <AlternativeHorizontalNav />\r\n          )}\r\n        </HeaderWrapper>\r\n      </HeaderStyled>\r\n      <Spacer />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import styled from \"styled-components\";\r\nimport {\r\n  HEADER_HEIGHT,\r\n  DEFAULT_HORIZONTAL_MARGIN,\r\n} from \"../../../lib/defaultStyles\";\r\n\r\nexport const PageMainStyled = styled.main`\r\n  overflow-y: scroll;\r\n  width: 100%;\r\n  /* width: ${(props) =>\r\n    props.hideScrollbar\r\n      ? `$calc(100% + ${props.scrollbarWidth + 1}px)`\r\n      : \"100%\"}; */\r\n  /* width: 100%; */\r\n  min-height: calc(100% - ${HEADER_HEIGHT});\r\n  /* min-height: 100%; */\r\n  display: block;\r\n  position: relative;\r\n`;\r\n\r\nexport const PageMainWrapper = styled.div`\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  margin: 0 auto;\r\n  position: absolute;\r\n  min-height: 100%;\r\n  width: max(\r\n    calc(1280px - ${DEFAULT_HORIZONTAL_MARGIN} * 2),\r\n    calc(60% - ${DEFAULT_HORIZONTAL_MARGIN} * 2)\r\n  );\r\n\r\n  @media screen and (max-width: 1280px) {\r\n    margin: 0 ${DEFAULT_HORIZONTAL_MARGIN};\r\n    width: calc(100% - ${DEFAULT_HORIZONTAL_MARGIN} * 2);\r\n    box-sizing: border-box;\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport { PageMainStyled, PageMainWrapper } from \"./styles\";\r\n\r\nfunction PageMain({ children }) {\r\n  // const onResize = useCallback(() => {\r\n  //   const main = document.getElementById(\"main\");\r\n  //   main.style.width = \"100%\";\r\n  //   const gap = main.offsetWidth - main.clientWidth;\r\n  //   main.style.width = `${main.offsetWidth + gap + 1}px`;\r\n  // }, []);\r\n\r\n  // useEffect(() => {\r\n  //   onResize();\r\n  //   window.addEventListener(\"resize\", onResize);\r\n  //   return () => {\r\n  //     window.removeEventListener(\"resize\", onResize);\r\n  //   };\r\n  // }, [onResize]);\r\n\r\n  return (\r\n    <>\r\n      <PageMainStyled id=\"main\">\r\n        <PageMainWrapper>{children}</PageMainWrapper>\r\n      </PageMainStyled>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default PageMain;\r\n","import styled from \"styled-components\";\r\nimport color from \"../../../lib/color\";\r\nimport { TRANSITION_COLOR } from \"../../../lib/defaultStyles\";\r\n\r\nexport const MoviesNavStyled = styled.nav`\r\n  margin: 5vmin 0;\r\n  width: 100%;\r\n`;\r\n\r\nexport const MoviesNavItemWrapper = styled.ul`\r\n  display: flex;\r\n  justify-content: space-evenly;\r\n  width: 100%;\r\n`;\r\n\r\nexport const MoviesNavItemStyled = styled.li``;\r\n\r\nexport const MoviesNavItemCaptionStyled = styled.h2`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n  a {\r\n    font-size: 3vmin;\r\n    padding: 1.5vmin 3vmin;\r\n    border-top: 0.5vmin solid transparent;\r\n    border-bottom: 0.5vmin solid transparent;\r\n    transition: border 0.25s ease, ${TRANSITION_COLOR};\r\n    font-weight: 600;\r\n    color: ${color.default.dark};\r\n\r\n    &:hover {\r\n      color: ${color.default.normal};\r\n    }\r\n\r\n    &.selected {\r\n      color: ${color.default.normal};\r\n      border-top: 0.5vmin solid white;\r\n      border-bottom: 0.5vmin solid white;\r\n    }\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport { MoviesNavItemCaptionStyled } from \"./styles\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nfunction NavItemCaption({ caption, to }) {\r\n  return (\r\n    <MoviesNavItemCaptionStyled>\r\n      <NavLink activeClassName=\"selected\" to={to}>\r\n        {caption}\r\n      </NavLink>\r\n    </MoviesNavItemCaptionStyled>\r\n  );\r\n}\r\n\r\nexport default NavItemCaption;\r\n","import React from \"react\";\r\nimport { MoviesNavItemStyled } from \"./styles\";\r\nimport NavItemCaption from \"./NavItemCaption\";\r\n\r\nfunction NavItem({ caption, to }) {\r\n  return (\r\n    <MoviesNavItemStyled>\r\n      <NavItemCaption caption={caption} to={to} />\r\n    </MoviesNavItemStyled>\r\n  );\r\n}\r\n\r\nexport default NavItem;\r\n","import React from \"react\";\r\nimport { MoviesNavStyled, MoviesNavItemWrapper } from \"./styles\";\r\nimport sitemap from \"../../../lib/sitemap\";\r\nimport NavItem from \"./NavItem\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nfunction MoviesNav({ match }) {\r\n  const sitemapIndex = match.path === \"/movies\" ? 1 : 2;\r\n  return (\r\n    <MoviesNavStyled>\r\n      <MoviesNavItemWrapper>\r\n        {sitemap[sitemapIndex].subnavs.map(({ caption, to }, index) => (\r\n          <NavItem key={index} caption={caption} to={to} />\r\n        ))}\r\n      </MoviesNavItemWrapper>\r\n    </MoviesNavStyled>\r\n  );\r\n}\r\n\r\nexport default withRouter(MoviesNav);\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { setBackground, setBrightness } from \"../../reducers/background\";\r\nimport pickRandomMovie from \"../../lib/pickRandomMovie\";\r\nimport { isEmptyArray } from \"../../lib/isEmpty\";\r\nimport MoviesPageBody from \"../../components/MoviesPage\";\r\nimport Error from \"../../components/common/Error\";\r\nimport initializeView from \"../../lib/initializeView\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nfunction LikePageBodyContainer({ currentPage, history }) {\r\n  const dispatch = useDispatch();\r\n  const [lastPage, setLastPage] = useState(null);\r\n  const [like, setLike] = useState(null);\r\n  const [error, setError] = useState(null);\r\n  const backgroundPath = useSelector(({ background }) => background.path);\r\n\r\n  useEffect(() => {\r\n    initializeView();\r\n    try {\r\n      const like = JSON.parse(localStorage.getItem(\"like\")) || [];\r\n      const lastPage = Math.max(Math.ceil(like.length / 20), 1);\r\n      if (lastPage < currentPage) {\r\n        history.push(`/my_movies/like?page=${lastPage}`);\r\n      } else if (currentPage < 1) {\r\n        setError(true);\r\n      } else {\r\n        setLike(like.slice((currentPage - 1) * 20, currentPage * 20));\r\n        setLastPage(lastPage);\r\n      }\r\n    } catch {\r\n      setError(true);\r\n    }\r\n  }, [currentPage, history]);\r\n\r\n  useEffect(() => {\r\n    if (!like || isEmptyArray(like)) {\r\n      dispatch(setBrightness(\"dark\"));\r\n      return;\r\n    }\r\n    const movie = pickRandomMovie(like, backgroundPath);\r\n    dispatch(setBackground({ path: movie.backdrop_path, brightness: \"dark\" }));\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [like, dispatch]);\r\n\r\n  if (error) return <Error />;\r\n  if (!like) return null;\r\n  if (isEmptyArray(like)) return <strong>  .</strong>;\r\n\r\n  return (\r\n    <MoviesPageBody\r\n      movies={like}\r\n      currentPage={currentPage}\r\n      lastPage={lastPage}\r\n    />\r\n  );\r\n}\r\n\r\nexport default withRouter(LikePageBodyContainer);\r\n","import React from \"react\";\r\nimport qs from \"qs\";\r\nimport LikePageBodyContainer from \"../containers/MyMoviesPage/LikePageBodyContainer\";\r\n\r\nfunction LikePage({ location }) {\r\n  const { page: currentPage } = qs.parse(location.search, {\r\n    ignoreQueryPrefix: true,\r\n  });\r\n  return <LikePageBodyContainer currentPage={parseInt(currentPage || 1)} />;\r\n}\r\n\r\nexport default LikePage;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { setBackground, setBrightness } from \"../../reducers/background\";\r\nimport pickRandomMovie from \"../../lib/pickRandomMovie\";\r\nimport { isEmptyArray } from \"../../lib/isEmpty\";\r\nimport MoviesPageBody from \"../../components/MoviesPage\";\r\nimport Error from \"../../components/common/Error\";\r\nimport initializeView from \"../../lib/initializeView\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nfunction WatchlistPageBodyContainer({ currentPage, history }) {\r\n  const dispatch = useDispatch();\r\n  const [lastPage, setLastPage] = useState(null);\r\n  const [watchlist, setWatchlist] = useState(null);\r\n  const [error, setError] = useState(null);\r\n  const backgroundPath = useSelector(({ background }) => background.path);\r\n\r\n  useEffect(() => {\r\n    initializeView();\r\n    try {\r\n      const watchlist = JSON.parse(localStorage.getItem(\"watchlist\")) || [];\r\n      const lastPage = Math.max(Math.ceil(watchlist.length / 20), 1);\r\n      if (lastPage < currentPage) {\r\n        history.push(`/my_movies/like?page=${lastPage}`);\r\n      } else if (currentPage < 1) {\r\n        setError(true);\r\n      } else {\r\n        setWatchlist(watchlist.slice((currentPage - 1) * 20, currentPage * 20));\r\n        setLastPage(lastPage);\r\n      }\r\n    } catch {\r\n      setError(true);\r\n    }\r\n  }, [currentPage, history]);\r\n\r\n  useEffect(() => {\r\n    if (!watchlist || isEmptyArray(watchlist)) {\r\n      dispatch(setBrightness(\"dark\"));\r\n      return;\r\n    }\r\n    const movie = pickRandomMovie(watchlist, backgroundPath);\r\n    dispatch(setBackground({ path: movie.backdrop_path, brightness: \"dark\" }));\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [watchlist, dispatch]);\r\n\r\n  if (error) return <Error />;\r\n  if (!watchlist) return null;\r\n  if (isEmptyArray(watchlist))\r\n    return <strong>  .</strong>;\r\n\r\n  return (\r\n    <MoviesPageBody\r\n      movies={watchlist}\r\n      currentPage={currentPage}\r\n      lastPage={lastPage}\r\n    />\r\n  );\r\n}\r\n\r\nexport default withRouter(WatchlistPageBodyContainer);\r\n","import React from \"react\";\r\nimport qs from \"qs\";\r\nimport WatchlistPageBodyContainer from \"../containers/MyMoviesPage/WatchlistPageBodyContainer\";\r\n\r\nfunction WatchlistPage({ location }) {\r\n  const { page: currentPage } = qs.parse(location.search, {\r\n    ignoreQueryPrefix: true,\r\n  });\r\n  return (\r\n    <WatchlistPageBodyContainer currentPage={parseInt(currentPage || 1)} />\r\n  );\r\n}\r\n\r\nexport default WatchlistPage;\r\n","import styled from \"styled-components\";\r\nimport { DEFAULT_HORIZONTAL_MARGIN } from \"../../lib/defaultStyles\";\r\n\r\nexport const ZoomStyled = styled.div`\r\n  z-index: 5;\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background-color: rgba(0, 0, 0, 0.75);\r\n`;\r\n\r\nexport const Wrapper = styled.div`\r\n  box-sizing: border-box;\r\n  padding: ${DEFAULT_HORIZONTAL_MARGIN};\r\n  display: grid;\r\n  /* grid-gap: ${DEFAULT_HORIZONTAL_MARGIN} 0; */\r\n  height: 100%;\r\n\r\n  img {\r\n    box-sizing: border-box;\r\n    object-fit: contain;\r\n    max-height: 100%;\r\n    max-width: 100%;\r\n    height:auto;\r\n    width:auto;\r\n  }\r\n`;\r\n","import React, { useCallback, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { initializeState } from \"../../reducers/zoom\";\r\nimport { buildImageUrl } from \"../../lib/TMDB_API\";\r\nimport Image from \"../common/Image\";\r\nimport { ZoomStyled, Wrapper } from \"./styles\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nfunction Zoom({ match }) {\r\n  const dispatch = useDispatch();\r\n  const { path, visible } = useSelector(({ zoom }) => zoom);\r\n\r\n  const onClick = useCallback(() => {\r\n    dispatch(initializeState());\r\n  }, [dispatch]);\r\n\r\n  useEffect(() => {\r\n    dispatch(initializeState());\r\n  }, [dispatch, match]);\r\n\r\n  if (!visible) return null;\r\n\r\n  return (\r\n    <ZoomStyled onClick={onClick}>\r\n      <Wrapper>\r\n        <Image\r\n          objectFit=\"contain\"\r\n          basis=\"width\"\r\n          src={buildImageUrl(path, \"original\")}\r\n        />\r\n      </Wrapper>\r\n    </ZoomStyled>\r\n  );\r\n}\r\n\r\nexport default withRouter(Zoom);\r\n","import styled from \"styled-components\";\r\nimport { DEFAULT_HORIZONTAL_MARGIN } from \"../../lib/defaultStyles\";\r\nimport color from \"../../lib/color\";\r\n\r\nexport const SearchBarStyled = styled.div`\r\n  background: rgba(0, 0, 0, 0.9);\r\n  overflow: hidden;\r\n  position: fixed;\r\n  z-index: 6;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  width: 100%;\r\n  height: 0;\r\n  /* height: 100%; */\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  opacity: 0;\r\n  transition: height 0.5s ease, opacity 0.5s ease;\r\n  /* transform: translateY(-100%); */\r\n  /* transition: transform 0.5s ease; */\r\n\r\n  .close {\r\n    position: absolute;\r\n    top: ${DEFAULT_HORIZONTAL_MARGIN};\r\n    right: ${DEFAULT_HORIZONTAL_MARGIN};\r\n  }\r\n\r\n  span {\r\n    font-size: 2rem;\r\n  }\r\n\r\n  form {\r\n    width: min(calc(100% - ${DEFAULT_HORIZONTAL_MARGIN} * 2), 25rem);\r\n    margin-top: 1rem;\r\n    display: grid;\r\n    grid-template-columns: auto max-content;\r\n    grid-gap: 1rem;\r\n    align-items: center;\r\n    justify-items: center;\r\n\r\n    input {\r\n      width: 100%;\r\n      box-sizing: border-box;\r\n      padding: 0.5rem;\r\n      outline: none;\r\n      border: none;\r\n      background: transparent;\r\n      border-bottom: 2px solid ${color.default.normal};\r\n      font-size: 1.25rem;\r\n      font-weight: 100;\r\n      color: ${color.default.normal};\r\n    }\r\n  }\r\n\r\n  &.visible {\r\n    opacity: 1;\r\n    height: 100%;\r\n    /* transform: translateY(0); */\r\n  }\r\n`;\r\n\r\nexport const SearchTextStyled = styled.div`\r\n  width: max-content;\r\n  margin: 5vmin auto;\r\n  padding: 1.5vmin 3vmin;\r\n  font-size: 3vmin;\r\n  font-weight: 300;\r\n  text-align: center;\r\n  border-top: 0.5vmin solid white;\r\n  border-bottom: 0.5vmin solid white;\r\n\r\n  em {\r\n    margin-left: 1.5vmin;\r\n    font-weight: 600;\r\n  }\r\n`;\r\n","import React, { useCallback, useState, useEffect, useRef } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { MdClose, MdSearch } from \"react-icons/md\";\r\nimport { hideSearchBar } from \"../../reducers/search\";\r\nimport { SearchBarStyled } from \"./styles\";\r\nimport Button from \"../common/Button\";\r\n\r\nfunction SearchBar({ history, location }) {\r\n  const dispatch = useDispatch();\r\n  const visible = useSelector(({ search }) => search.showSearchBar);\r\n  const [keyword, setKeyword] = useState(\"\");\r\n  const inputRef = useRef(null);\r\n\r\n  const onCancelClick = useCallback(() => {\r\n    dispatch(hideSearchBar());\r\n  }, [dispatch]);\r\n  const onChange = useCallback((e) => {\r\n    setKeyword(e.target.value);\r\n  }, []);\r\n  const onSubmit = useCallback(\r\n    (e) => {\r\n      e.preventDefault();\r\n      if (keyword === \"\" || !keyword) return;\r\n      history.push(`/search?query=${keyword}`);\r\n    },\r\n    [keyword, history]\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (inputRef.current) {\r\n      if (visible) {\r\n        inputRef.current.focus();\r\n      } else {\r\n        setKeyword(\"\");\r\n      }\r\n    }\r\n  }, [visible]);\r\n\r\n  useEffect(() => {\r\n    dispatch(hideSearchBar());\r\n  }, [location, dispatch]);\r\n\r\n  return (\r\n    <SearchBarStyled className={visible ? \"visible\" : \"\"}>\r\n      <span></span>\r\n      <Button\r\n        className=\"close\"\r\n        variant=\"transparent circle\"\r\n        size=\"1.75rem\"\r\n        onClick={onCancelClick}\r\n      >\r\n        <MdClose size=\"2rem\" />\r\n      </Button>\r\n      <form onSubmit={onSubmit}>\r\n        <input\r\n          ref={inputRef}\r\n          type=\"text\"\r\n          placeholder=\"\"\r\n          value={keyword}\r\n          onChange={onChange}\r\n        />\r\n        <Button variant=\"transparent circle\" size=\"1.75rem\" onClick={onSubmit}>\r\n          <MdSearch size=\"2rem\" />\r\n        </Button>\r\n      </form>\r\n    </SearchBarStyled>\r\n  );\r\n}\r\n\r\nexport default withRouter(SearchBar);\r\n","import React, { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { searchMovies, initializeState } from \"../reducers/search\";\r\nimport { setBackground, setBrightness } from \"../reducers/background\";\r\nimport pickRandomMovie from \"../lib/pickRandomMovie\";\r\nimport { isEmptyArray } from \"../lib/isEmpty\";\r\nimport MoviesPageBody from \"../components/MoviesPage\";\r\nimport Loading from \"../components/common/Loading\";\r\nimport Error from \"../components/common/Error\";\r\nimport initializeView from \"../lib/initializeView\";\r\n\r\nfunction SearchPageBodyContainer({ query, currentPage }) {\r\n  const dispatch = useDispatch();\r\n  const { movies, lastPage, error } = useSelector(({ search }) => search);\r\n  const backgroundPath = useSelector(({ background }) => background.path);\r\n  const loading = useSelector(\r\n    ({ loading }) => loading[\"search/SEARCH_MOVIES_REQUEST\"]\r\n  );\r\n\r\n  useEffect(() => {\r\n    initializeView();\r\n    dispatch(searchMovies({ query, page: currentPage }));\r\n    return () => {\r\n      dispatch(initializeState());\r\n    };\r\n  }, [query, currentPage, dispatch]);\r\n\r\n  useEffect(() => {\r\n    if (!movies || isEmptyArray(movies)) {\r\n      dispatch(setBrightness(\"dark\"));\r\n      return;\r\n    }\r\n    const movie = pickRandomMovie(movies, backgroundPath);\r\n    dispatch(setBackground({ path: movie.backdrop_path, brightness: \"dark\" }));\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [movies, dispatch]);\r\n\r\n  if (error) return <Error />;\r\n  if (isEmptyArray(movies)) return <strong>  .</strong>;\r\n  if (loading) return <Loading />;\r\n  if (!movies) return null;\r\n\r\n  return (\r\n    <MoviesPageBody\r\n      movies={movies}\r\n      currentPage={currentPage}\r\n      lastPage={lastPage}\r\n    />\r\n  );\r\n}\r\n\r\nexport default SearchPageBodyContainer;\r\n","import React from \"react\";\r\nimport qs from \"qs\";\r\nimport SearchPageBodyContainer from \"../containers/SearchPageBodyContainer\";\r\n\r\nfunction SearchPage({ location }) {\r\n  const { query, page: currentPage } = qs.parse(location.search, {\r\n    ignoreQueryPrefix: true,\r\n  });\r\n  return (\r\n    <SearchPageBodyContainer\r\n      query={query}\r\n      currentPage={parseInt(currentPage || 1)}\r\n    />\r\n  );\r\n}\r\n\r\nexport default SearchPage;\r\n","import React from \"react\";\r\nimport qs from \"qs\";\r\nimport { SearchTextStyled } from \"./styles\";\r\n\r\nfunction SearchText({ location }) {\r\n  const { query } = qs.parse(location.search, { ignoreQueryPrefix: true });\r\n  return (\r\n    <SearchTextStyled>\r\n      :<em>{query}</em>\r\n    </SearchTextStyled>\r\n  );\r\n}\r\n\r\nexport default SearchText;\r\n","import React from \"react\";\r\nimport { Route, Switch } from \"react-router-dom\";\r\nimport HomePage from \"./pages/HomePage\";\r\nimport MovieDetailPage from \"./pages/MovieDetailPage\";\r\nimport NowPlayingPage from \"./pages/NowPlayingPage\";\r\nimport PopularPage from \"./pages/PopularPage\";\r\nimport TopRatedPage from \"./pages/TopRatedPage\";\r\nimport UpcomingPage from \"./pages/UpcomingPage\";\r\nimport AboutPage from \"./pages/AboutPage\";\r\nimport FullscreenBackground from \"./components/FullscreenBackground\";\r\nimport Header from \"./components/Header\";\r\nimport PageMain from \"./components/common/PageMain\";\r\nimport MoviesNav from \"./components/MoviesPage/MoviesNav\";\r\nimport LikePage from \"./pages/LikePage\";\r\nimport WatchlistPage from \"./pages/WatchlistPage\";\r\n// eslint-disable-next-line\r\nimport CustomScrollbars from \"./components/CustomScrollbars\";\r\nimport Zoom from \"./components/Zoom\";\r\nimport SearchBar from \"./components/Search/SearchBar\";\r\nimport SearchPage from \"./pages/SearchPage\";\r\nimport SearchText from \"./components/Search/SearchText\";\r\n\r\nfunction App() {\r\n  return (\r\n    <>\r\n      {/* <CustomScrollbars> */}\r\n      <Header />\r\n      <FullscreenBackground />\r\n      <SearchBar />\r\n      <Zoom />\r\n      <PageMain>\r\n        <Switch>\r\n          <Route path={[\"/\", \"/films\"]} exact component={HomePage} />\r\n          <Route path=\"/movies\">\r\n            <MoviesNav />\r\n            <Route path=\"/movies/now_playing\" component={NowPlayingPage} />\r\n            <Route path=\"/movies/popular\" component={PopularPage} />\r\n            <Route path=\"/movies/top_rated\" component={TopRatedPage} />\r\n            <Route path=\"/movies/upcoming\" component={UpcomingPage} />\r\n          </Route>\r\n          <Route path=\"/my_movies\">\r\n            <MoviesNav />\r\n            <Route path=\"/my_movies/like\" component={LikePage} />\r\n            <Route path=\"/my_movies/watchlist\" component={WatchlistPage} />\r\n          </Route>\r\n          <Route path=\"/search\">\r\n            <Route path=\"/search\" component={SearchText} />\r\n            <Route path=\"/search\" component={SearchPage} />\r\n          </Route>\r\n          <Route path=\"/movie/:movieId\" component={MovieDetailPage} />\r\n          <Route path=\"/about\" component={AboutPage} />\r\n        </Switch>\r\n      </PageMain>\r\n      {/* </CustomScrollbars> */}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { combineReducers } from \"redux\";\r\nimport { all } from \"redux-saga/effects\";\r\nimport loading from \"./loading\";\r\nimport movieDetail, { movieDetailSaga } from \"./movieDetail\";\r\nimport movies, { moviesSaga } from \"./movies\";\r\nimport background from \"./background\";\r\nimport zoom from \"./zoom\";\r\nimport search, { searchSaga } from \"./search\";\r\n\r\nexport const rootReducer = combineReducers({\r\n  loading,\r\n  movieDetail,\r\n  movies,\r\n  search,\r\n  background,\r\n  zoom,\r\n});\r\n\r\nexport function* rootSaga() {\r\n  yield all([movieDetailSaga(), moviesSaga(), searchSaga()]);\r\n}\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\nimport { createStore, applyMiddleware } from \"redux\";\nimport createSagaMiddleware from \"redux-saga\";\nimport { rootReducer, rootSaga } from \"./reducers\";\n\nconst sagaMiddleware = createSagaMiddleware();\nconst store = createStore(rootReducer, applyMiddleware(sagaMiddleware));\nsagaMiddleware.run(rootSaga);\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <BrowserRouter>\n        <App />\n      </BrowserRouter>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}